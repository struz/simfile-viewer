(function(e){function t(t){for(var i,s,r=t[0],u=t[1],c=t[2],h=0,g=[];h<r.length;h++)s=r[h],a[s]&&g.push(a[s][0]),a[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);l&&l(t);while(g.length)g.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(i=!1)}i&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},a={app:0},o=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/simfile-viewer/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0448":function(e,t,n){e.exports=n.p+"img/_Down_Tap_Note_16x8.884d6e62.png"},1575:function(e,t,n){e.exports=n.p+"img/Down_Hold_Body_Active.adc2d5a2.png"},5002:function(e,t,n){e.exports=n.p+"img/Down_Hold_Body_Inactive.623b36a7.png"},"50e7":function(e,t){e.exports="data:image/png;base64,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"},6980:function(e,t,n){"use strict";var i=n("df0d"),a=n.n(i);a.a},"9f67":function(e,t){e.exports="data:image/png;base64,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"},a46f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAgCAYAAACinX6EAAAACXBIWXMAAAsTAAALEwEAmpwYAAAABGdBTUEAALGOfPtRkwAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAGpUlEQVR42mL8//8/AwwwMjIuAVLRsbGxDAYGBgx8fHwM//79YwCp4eHhYWBjYwOzQWK0AED7yVYDctePHz8Y/vz5w8DNzc0gJiYGd/v3798Zrl69ylBVVQVSuh8o5gTTBxBATGjmHAYRixcvZjh27BhEARMTGH/58oXh9+/fDCwsLAyDCcAC5O/fvww/f/5kYGdnZxASEoJHEkh+7969DNXV1Sh+hAGAAEIPgJlAnAFirF27lmHBggUoloBCEmTJQAQCyA3YYh+WIn/9+gVOocgpFQS2bNnCsGzZMhh/BhDXI+sHCCAmLHaBAiECxLh06RLDqlWrwDHPzMwMtuTbt29gRSD+YIl9ULIHuQ2UZXl5ecHuBcndvn2bYd++fQxv3rwBKdsOxJnoZgAEECNaGYAstxaIg0AGOjs7M9ja2oINB6kHeR5kGcxyYvIupWUANjmQGMjjoLzPwcHBICwsDKZBbnrx4gVDRUUFw9OnT0FK7wCxHigRw1INDAAEEBMe9wQD8frPnz8zbNiwgeHw4cPgLADzNCgrgAAoOyAbSM/YB+V7WGyD8j0rKyvYbQ8fPmTo6+uDxTwIGMA8jw4AAoiJgD1B0IBg2LhxI8P+/fvheRFWKOLKm9Qu+UGBjB7QIPtBQEBAAOx5kLrXr18zbN26leH8+fOwSFoIxF9xmQ0QQExEuHEdqPAAWQ4qTUEBAfM0qDwAOQJkOS1jGmQ3ekCDYh9W8IECAFYYggq99evXw5TZAnECPvMBAojY4hxUeIgBs0PQ0aNHwR52dHQEWw7KFrCqklbtA2wpBmQvqMoDlUswcVD1vXnzZphSLyA+Qsg8gABiIsFuUFbY9uHDB4Zdu3YxXLhwAexhUAr4+vUruGCExRYpgJB6WOwj80GxD2vwgAIAFBjHjx9nOHDgAAOozIIW4NuJsR8ggPDVArjAKiAOBan19vZmcHV1BZe8oNjg5OSEJ09yygVcemDisIIPlPVAtRAIg1LeyZMnGfr7+xnevn0LUgZqwVkTG+gAAcRERioMg5UJoMJmx44dYIeBqiKQ40gISJIByE5QzMOa5qCseO7cOYaJEycyvH//HqbMnhQzAQKIiUy3ZMIC4cyZM+CkB4oJUPIDOZAaLUX0Qg9kPqjQA5kvISEBznJ3794FF3qgkh9a/swC1dKk2AMQQJS4FBQI6kDLHUEFDyhZghpLsOoI5GBqtg9g1SDIfFBWA5U9CxcuZDhyBFzOfYE2dO6Tai5AADFR6C4n5MYSqOkMKpBgNQMl7XyYh5HbHaCUJSoqCo5tULIHpT4oIMvzIAAQQExUiBxQYykL3GBYtw7cAAE5EFQzgAKB3PIAOVBAAQHyPKigBQX21KlTwS1TULkDBEvI9TwIAAQQE5VS6HSQ/0GOAzWUQGUCqBUGyrPkZAPkUh8WmKBCj5+fH9zGB6U2UIqA1kixlDgcIICYqFhIg9oJ+0EFEqhmOHjwIAOozQDrPJESEDC1sCwAyveg2D99+jRDd3c3TNkkIA6n1NEAAUTNAICVCbtB9TEoEJ48eQKOPVBqwNd9Rm/nw5I/rLMD6uWBqrv58+eDOzpAcAKI86nhYIAAIqchREzN8huU/0FJ1sPDA9xsBrXXYe0EQg0gWADAhrRAVV9PTw/DxYsXQdKXoYUeRTUKDAAEELVTAAO0Hp4FcjyocbJy5UqGTZs2gfMsKYMo0AIOrKe1tRXm+QeEWnmkAoAAokUAgEA6ELPCAuL69evg0RlY95WYQhDU0QKpB/VAHz16BJMyBuLP1HQoQADRIgsgAzbQyBqowQRqvdnY2DA4OTkxCAoK4iz1QQDUqAKVHdu2bWPYvXs3vPkLShBATHGXE9nPAAFEqxQAA7+g+fUIqPoCNVufPXsGLgtwZQeQOKiXt2fPHnAAgFIB0oAm1fvbAAFE6wCABQJoYGIZKF+DBlkvX74Mz+PI1R0opt+9ewf2OGjcAalzw4xtQJMaACCAaJ0FkAEXNDsog/rwLi4uDBERESjj96CaA1TfFxUVgTs6QLADiD1p0auEAYAAokcKgIFv0OywCdRivHLlCnjEFpQdQB4H0Y8fP2YoLCxkePDgAUyPP60dBRBA8EYIHUd2QaMmt0ERISUl9X/KlCn/gVXl/6SkpP/AgPgPTAkgh4DwbHr4GSCA6JkCYAA0PG0Jas2BCsScnByGO3fugJM+rOEDLfBS6eEYgAAaiBQAAyJAvBoa28g4n55+BgiggQwAGJgIxOeAeA09PI8eAAABxDiAHh8UACDAAHU+dZEDI929AAAAAElFTkSuQmCC"},a4ec:function(e,t,n){e.exports=n.p+"img/Fallback_Tap_Mine_8x1.47690a50.png"},b6c8:function(e,t,n){e.exports=n.p+"img/_Down_Receptor_Go_4x1.6a5930ce.png"},b8ec:function(e,t,n){e.exports=n.p+"img/Down_Roll_Body_Inactive.a6ed17c5.png"},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=n("bb71");n("da64");i["default"].use(a["a"],{iconfont:"md"});var o,s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{dark:""}},[n("v-toolbar",{attrs:{app:""}},[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",[e._v("Vuetify")]),n("span",{staticClass:"font-weight-light"},[e._v("MATERIAL DESIGN")])]),n("v-spacer"),n("v-btn",{attrs:{flat:"",href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank"}},[n("span",{staticClass:"mr-2"},[e._v("Latest Release")])])],1),n("v-content",[n("v-container",[n("v-layout",{attrs:{row:""}},[n("v-flex",{attrs:{md6:""}},[n("screen")],1),n("v-flex",{attrs:{md6:""}},[n("chart-picker")],1)],1),n("v-flex",[n("v-btn",{on:{click:e.playPauseTrack}},[e._v("Play/Pause")]),n("v-btn",{on:{click:e.seekTrack}},[e._v("Seek")]),n("v-text-field",{attrs:{type:"number"},model:{value:e.seek,callback:function(t){e.seek=e._n(t)},expression:"seek"}})],1)],1)],1)],1)},r=[],u=n("d225"),c=n("b0b4"),l=n("308d"),h=n("6bb5"),g=n("4e2b"),d=n("9ab4"),f=n("60a3"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pixi-renderer"},[n("canvas",{ref:"renderCanvas"}),e._t("default")],2)},v=[],m=n("5d73"),y=n.n(m),A=n("653d"),w=(n("7f7f"),n("2d7d")),T=n.n(w),k=64,b=64,S=32;function B(e){switch(e){case o.DOWN:return 1;case o.LEFT:return 0;case o.UP:return 2;case o.RIGHT:return 3;default:throw new Error("unknown TapNoteDirection: ".concat(e))}}function O(e){switch(e){case 0:return 1;case 1:return 0;case 2:case 3:return e;default:throw new Error("unknown laneIndex: ".concat(e))}}(function(e){e[e["DOWN"]=0]="DOWN",e[e["LEFT"]=1]="LEFT",e[e["UP"]=2]="UP",e[e["RIGHT"]=3]="RIGHT"})(o||(o={}));var N,E=64,R=n("b6c8"),I=n.n(R),D=n("0448"),P=n.n(D),M=n("a4ec"),L=n.n(M),C=n("1575"),x=n.n(C),j=n("5002"),F=n.n(j),H=n("50e7"),U=n.n(H),Q=n("a46f"),_=n.n(Q),Y=n("b8ec"),G=n.n(Y),V=n("9f67"),z=n.n(V),K="DownTapNoteSheet",W="DownReceptorSheet",q="TapMineSheet",J="DownHoldBodyActiveSheet",Z="DownHoldBodyInactiveSheet",X="DownHoldBottomCapActiveSheet",$="DownHoldBottomCapInactiveSheet",ee="DownRollBodyInactiveSheet",te="DownRollBottomCapInactiveSheet",ne=[{name:K,textureUrl:P.a,width:k,height:b,numSprites:8,numAnimFrames:16,animLength:2,animLoop:!0},{name:W,textureUrl:I.a,width:k,height:b,numSprites:1,numAnimFrames:4,animLength:30,animLoop:!0},{name:q,textureUrl:L.a,width:k,height:b,numSprites:1,numAnimFrames:8,animLength:3,animLoop:!0},{name:J,textureUrl:x.a,width:k,height:128,numSprites:1,numAnimFrames:1,animLength:1,animLoop:!1},{name:Z,textureUrl:F.a,width:k,height:128,numSprites:1,numAnimFrames:1,animLength:1,animLoop:!1},{name:X,textureUrl:U.a,width:k,height:S,numSprites:1,numAnimFrames:1,animLength:1,animLoop:!1},{name:$,textureUrl:_.a,width:k,height:S,numSprites:1,numAnimFrames:1,animLength:1,animLoop:!1},{name:ee,textureUrl:G.a,width:k,height:256,numSprites:1,numAnimFrames:1,animLength:1,animLoop:!1},{name:te,textureUrl:z.a,width:k,height:S,numSprites:1,numAnimFrames:1,animLength:1,animLoop:!1}],ie=function(){function e(){Object(u["a"])(this,e),this.spriteInfo=new T.a,this.doneLoading=!1}return Object(c["a"])(e,[{key:"isDoneLoading",value:function(){return this.doneLoading}},{key:"getSpriteInfo",value:function(e){var t=this.spriteInfo.get(e);if(void 0===t)throw new Error("Could not find info for unknown sprite ".concat(e));return t}},{key:"loadSprites",value:function(){for(var e=gn.getPixiApp().loader,t=0,n=ne;t<n.length;t++){var i=n[t];e.add(i.name,i.textureUrl)}e.load(this.onLoad.bind(this))}},{key:"onLoad",value:function(){for(var e=0,t=ne;e<t.length;e++){var n=t[e];this.extractTexturesFromSpriteSheet(n)}this.doneLoading=!0}},{key:"extractTexturesFromSpriteSheet",value:function(e){for(var t=gn.getPixiApp().loader.resources[e.name].texture,n=[],i=0;i<e.numSprites;i++){for(var a=[],o=0;o<e.numAnimFrames;o++){var s=new A["d"](o*e.width,i*e.height,e.width,e.height),r=new A["f"](t.baseTexture,s);a.push(r)}n.push(a)}this.spriteInfo.set(e.name,{name:e.name,width:e.width,height:e.height,animLength:e.animLength,animLoop:e.animLoop,textures:n})}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),ae=ie.getInstance(),oe=ae,se=(n("8449"),n("2a88")),re=(n("ac6a"),function(){function e(){Object(u["a"])(this,e),this.entities=[]}return Object(c["a"])(e,[{key:"registerEntity",value:function(e){return this.entities.push(e),this}},{key:"deregisterEntity",value:function(e){for(var t=0;t<this.entities.length;t++)this.entities[t]===e&&this.entities.splice(t,1);return this}},{key:"update",value:function(e){return this.entities.forEach(function(t){t.update(e)}),this}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}()),ue=re.getInstance(),ce=ue,le=function(){function e(){Object(u["a"])(this,e),ce.registerEntity(this)}return Object(c["a"])(e,[{key:"destroy",value:function(){ce.deregisterEntity(this)}}]),e}(),he=le,ge=function(e){function t(e){var n;return Object(u["a"])(this,t),n=Object(l["a"])(this,Object(h["a"])(t).call(this)),n.sprite=e,n.onStage=!1,n.sprite.zIndex=0,n.sprite.anchor.x=.5,n.sprite.anchor.y=.5,n}return Object(g["a"])(t,e),Object(c["a"])(t,null,[{key:"checkDependencies",value:function(){if(!oe.isDoneLoading())throw new Error("RESOURCEMAN has not finished loading")}}]),Object(c["a"])(t,[{key:"destroy",value:function(){this.removeFromStage(),Object(se["a"])(Object(h["a"])(t.prototype),"destroy",this).call(this)}},{key:"isOnStage",value:function(){return this.onStage}},{key:"getSprite",value:function(){return this.sprite}},{key:"setPos",value:function(e,t){return this.sprite.x=e,this.sprite.y=t,this}},{key:"setPosX",value:function(e){return this.sprite.x=e,this}},{key:"setPosY",value:function(e){return this.sprite.y=e,this}},{key:"addToStage",value:function(){return this.onStage?this:(this.onStage=!0,gn.getPixiApp().stage.addChild(this.sprite),this)}},{key:"removeFromStage",value:function(){return this.onStage?(this.onStage=!1,gn.getPixiApp().stage.removeChild(this.sprite),this):this}},{key:"setZIndex",value:function(e){return this.sprite.zIndex=e,this}},{key:"update",value:function(e){return this}}]),t}(he),de=ge,fe=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(u["a"])(this,t);var a=new A["a"](e.textures[i]);return n=Object(l["a"])(this,Object(h["a"])(t).call(this,a)),n.sprite=a,n.sprite.animationSpeed=1/e.animLength,n.sprite.loop=e.animLoop,n}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getSprite",value:function(){return this.sprite}}]),t}(de),pe=fe,ve=32,me=function(e){function t(e){var n;Object(u["a"])(this,t),de.checkDependencies(),n=Object(l["a"])(this,Object(h["a"])(t).call(this,oe.getSpriteInfo(W))),n.direction=e,n.sprite.alpha=.75,n.sprite.y=ve,n.sprite.rotation=90*n.direction*(Math.PI/180);var i=B(n.direction);return n.sprite.x=E+k*i,n.sprite.play(),n}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getDirection",value:function(){return this.direction}},{key:"update",value:function(e){return this}}]),t}(pe),ye=me;n("84b4");(function(e){e[e["PLAYER_1"]=0]="PLAYER_1",e[e["PLAYER_2"]=1]="PLAYER_2",e[e["NUM"]=2]="NUM",e[e["Invalid"]=3]="Invalid"})(N||(N={}));N.NUM;var Ae,we,Te,ke=N.Invalid,be=(n("20d6"),n("061b")),Se=n.n(be),Be=n("4aa6"),Oe=n.n(Be),Ne=n("5176"),Ee=n.n(Ne),Re=(n("c5f6"),n("8bd2")),Ie=n.n(Re),De=(n("6b54"),function e(){Object(u["a"])(this,e)}),Pe=function e(){Object(u["a"])(this,e)};(function(e){e[e["Empty"]=0]="Empty",e[e["Tap"]=1]="Tap",e[e["HoldHead"]=2]="HoldHead",e[e["HoldTail"]=3]="HoldTail",e[e["Mine"]=4]="Mine",e[e["Lift"]=5]="Lift",e[e["Attack"]=6]="Attack",e[e["AutoKeysound"]=7]="AutoKeysound",e[e["Fake"]=8]="Fake",e[e["NUM"]=9]="NUM",e[e["Invalid"]=10]="Invalid"})(Ae||(Ae={})),function(e){e[e["Hold"]=0]="Hold",e[e["Roll"]=1]="Roll",e[e["NUM"]=2]="NUM",e[e["Invalid"]=3]="Invalid"}(we||(we={})),function(e){e[e["Original"]=0]="Original",e[e["Addition"]=1]="Addition",e[e["NUM"]=2]="NUM",e[e["Invalid"]=3]="Invalid"}(Te||(Te={}));var Me,Le=function(){function e(){Object(u["a"])(this,e),this.type=Ae.Empty,this.subType=we.Invalid,this.source=Te.Original,this.result=new De,this.pn=ke,this.occursAtSecond=0,this.endSecond=0,this.highestSubtypeOnRow=we.Hold,this.duration=0,this.holdResult=new Pe}return Object(c["a"])(e,[{key:"equals",value:function(e){return this.type===e.type&&this.subType===e.subType&&this.source===e.source&&this.duration===e.duration&&this.pn===e.pn}},{key:"copy",value:function(){return Ee()(Oe()(Se()(this)),this)}}],[{key:"create",value:function(t,n,i){t>Ae.Fake&&(console.debug("Invalid tap note type ".concat(t," (most likely) due to random vanish issues.")),t=Ae.Empty);var a=new e;return a.type=t,a.subType=n,a.source=i,a}}]),e}(),Ce=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"beatToNoteRow",value:function(e){return Math.round(e*je)}},{key:"beatToNoteRowNotRounded",value:function(e){return Math.trunc(e*je)}},{key:"noteRowToBeat",value:function(e){return e/je}},{key:"scalePosition",value:function(e,t,n,i){return i<e?i:i>=e+t?i-t+n:e+(i-e)*n/t}},{key:"noteTypeToBeat",value:function(e){switch(e){case Me.N_4TH:return 1;case Me.N_8TH:return.5;case Me.N_12TH:return 1/3;case Me.N_16TH:return.25;case Me.N_24TH:return 1/6;case Me.N_32ND:return 1/8;case Me.N_48TH:return 1/12;case Me.N_64TH:return 1/16;case Me.N_192ND:return 1/48;case Me.Invalid:return 1/48;default:throw new Error("Unrecognized note type: ".concat(e))}}},{key:"noteTypeToRow",value:function(e){switch(e){case Me.N_4TH:return 48;case Me.N_8TH:return 24;case Me.N_12TH:return 16;case Me.N_16TH:return 12;case Me.N_24TH:return 8;case Me.N_32ND:return 6;case Me.N_48TH:return 4;case Me.N_64TH:return 3;case Me.N_192ND:case Me.Invalid:return 1;default:throw new Error("Unrecognized note type: ".concat(e))}}},{key:"getNoteType",value:function(e){return e%(_e/4)===0?Me.N_4TH:e%(_e/8)===0?Me.N_8TH:e%(_e/12)===0?Me.N_12TH:e%(_e/16)===0?Me.N_16TH:e%(_e/24)===0?Me.N_24TH:e%(_e/32)===0?Me.N_32ND:e%(_e/48)===0?Me.N_48TH:e%(_e/64)===0?Me.N_64TH:Me.N_192ND}},{key:"beatToNoteType",value:function(t){return this.getNoteType(e.beatToNoteRow(t))}},{key:"isNoteOfType",value:function(e,t){return this.getNoteType(e)===t}}]),e}(),xe=Ce,je=48,Fe=1<<30;(function(e){e[e["N_4TH"]=0]="N_4TH",e[e["N_8TH"]=1]="N_8TH",e[e["N_12TH"]=2]="N_12TH",e[e["N_16TH"]=3]="N_16TH",e[e["N_24TH"]=4]="N_24TH",e[e["N_32ND"]=5]="N_32ND",e[e["N_48TH"]=6]="N_48TH",e[e["N_64TH"]=7]="N_64TH",e[e["N_192ND"]=8]="N_192ND",e[e["NUM"]=9]="NUM",e[e["Invalid"]=10]="Invalid"})(Me||(Me={}));var He,Ue,Qe=4,_e=je*Qe,Ye=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"newEmpty",value:function(){return this.EMPTY.copy()}},{key:"newOriginalTap",value:function(){return this.ORIGINAL_TAP.copy()}},{key:"newOriginalLift",value:function(){return this.ORIGINAL_LIFT.copy()}},{key:"newOriginalHoldHead",value:function(){return this.ORIGINAL_HOLD_HEAD.copy()}},{key:"newOriginalRollHead",value:function(){return this.ORIGINAL_ROLL_HEAD.copy()}},{key:"newOriginalMine",value:function(){return this.ORIGINAL_MINE.copy()}},{key:"newOriginalAttack",value:function(){return this.ORIGINAL_ATTACK.copy()}},{key:"newOriginalAutoKeysound",value:function(){return this.ORIGINAL_AUTO_KEYSOUND.copy()}},{key:"newOriginalFake",value:function(){return this.ORIGINAL_FAKE.copy()}},{key:"newAdditionTap",value:function(){return this.ADDITION_TAP.copy()}},{key:"newAdditionMine",value:function(){return this.ADDITION_MINE.copy()}}]),e}();Ye.EMPTY=Le.create(Ae.Empty,we.Invalid,Te.Original),Ye.ORIGINAL_TAP=Le.create(Ae.Tap,we.Invalid,Te.Original),Ye.ORIGINAL_LIFT=Le.create(Ae.Lift,we.Invalid,Te.Original),Ye.ORIGINAL_HOLD_HEAD=Le.create(Ae.HoldHead,we.Hold,Te.Original),Ye.ORIGINAL_ROLL_HEAD=Le.create(Ae.HoldHead,we.Roll,Te.Original),Ye.ORIGINAL_MINE=Le.create(Ae.Mine,we.Invalid,Te.Original),Ye.ORIGINAL_ATTACK=Le.create(Ae.Attack,we.Invalid,Te.Original),Ye.ORIGINAL_AUTO_KEYSOUND=Le.create(Ae.AutoKeysound,we.Invalid,Te.Original),Ye.ORIGINAL_FAKE=Le.create(Ae.Fake,we.Invalid,Te.Original),Ye.ADDITION_TAP=Le.create(Ae.Tap,we.Invalid,Te.Addition),Ye.ADDITION_MINE=Le.create(Ae.Mine,we.Invalid,Te.Addition),function(e){e[e["BPM"]=0]="BPM",e[e["STOP"]=1]="STOP",e[e["DELAY"]=2]="DELAY",e[e["TIME_SIG"]=3]="TIME_SIG",e[e["WARP"]=4]="WARP",e[e["LABEL"]=5]="LABEL",e[e["TICKCOUNT"]=6]="TICKCOUNT",e[e["COMBO"]=7]="COMBO",e[e["SPEED"]=8]="SPEED",e[e["SCROLL"]=9]="SCROLL",e[e["FAKE"]=10]="FAKE",e[e["NUM"]=11]="NUM",e[e["Invalid"]=12]="Invalid"}(He||(He={})),function(e){e[e["Row"]=0]="Row",e[e["Range"]=1]="Range",e[e["Indefinite"]=2]="Indefinite",e[e["NUM"]=3]="NUM",e[e["Invalid"]=4]="Invalid"}(Ue||(Ue={}));var Ge=-1,Ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(u["a"])(this,e),this.startRow=0,this.startRow=n?t:xe.beatToNoteRow(t)}return Object(c["a"])(e,[{key:"scale",value:function(e,t,n){this.setRow(xe.scalePosition(e,t,n,this.getRow()))}},{key:"getRow",value:function(){return this.startRow}},{key:"setRow",value:function(e){this.startRow=e}},{key:"getBeat",value:function(){return xe.noteRowToBeat(this.startRow)}},{key:"setBeat",value:function(e){this.setRow(xe.beatToNoteRow(e))}},{key:"toString",value:function(e){return this.getBeat().toString()}},{key:"lessThan",value:function(e){return this.getRow()<e.getRow()}},{key:"equals",value:function(e){return this.getRow()===e.getRow()}}],[{key:"compareFloat",value:function(e,t){return!(Math.abs(e-t)>this.EPSILON)}}]),e}();Ve.EPSILON=1e-6;var ze=function(e){function t(e,n){var i,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Object(u["a"])(this,t),void 0===e)return i=Object(l["a"])(this,Object(h["a"])(t).call(this)),i.lengthRows=0,Object(l["a"])(i);if(void 0===n)throw new Error("invalid constructor used - must provide nothing, or both optinoal parameters");return i=Object(l["a"])(this,Object(h["a"])(t).call(this,e,!0)),i.lengthRows=a?n:xe.beatToNoteRow(n),Object(l["a"])(i)}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getType",value:function(){return He.WARP}},{key:"getEffectType",value:function(){return Ue.Range}},{key:"isNotable",value:function(){return this.lengthRows>0}},{key:"getLengthRows",value:function(){return this.lengthRows}},{key:"getLengthBeats",value:function(){return xe.noteRowToBeat(this.lengthRows)}},{key:"getLength",value:function(){return this.getLengthBeats()}},{key:"setLengthRows",value:function(e){this.lengthRows=e}},{key:"setLengthBeats",value:function(e){this.lengthRows=xe.beatToNoteRow(e)}},{key:"scale",value:function(e,n,i){var a=this.getBeat(),o=a+this.getLength(),s=xe.scalePosition(xe.noteRowToBeat(e),xe.noteRowToBeat(n),xe.noteRowToBeat(i),a),r=xe.scalePosition(xe.noteRowToBeat(e),xe.noteRowToBeat(n),xe.noteRowToBeat(i),o);this.setLengthBeats(r-s),Object(se["a"])(Object(h["a"])(t.prototype),"scale",this).call(this,e,n,i)}},{key:"debugPrint",value:function(){var e=this.getType(),t=this.getRow(),n=this.getBeat(),i=this.getLengthRows(),a=this.getLengthBeats();console.debug("\t".concat(e,"(").concat(t," [").concat(n,"], ").concat(i," [").concat(a,"])"))}},{key:"toString",value:function(e){var t=this.getBeat().toFixed(e),n=this.getLength();return"".concat(t,"=").concat(n)}},{key:"getValues",value:function(){return[this.getLength()]}},{key:"equals",value:function(e){return this.getType()===e.getType()&&(e instanceof t&&!!Ve.compareFloat(this.lengthRows,e.lengthRows))}}]),t}(Ve),Ke=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_TICK_COUNT;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).call(this,n,!0)),e.ticksPerBeat=i,e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getType",value:function(){return He.TICKCOUNT}},{key:"getEffectType",value:function(){return Ue.Indefinite}},{key:"isNotable",value:function(){return!0}},{key:"getTicks",value:function(){return this.ticksPerBeat}},{key:"setTicks",value:function(e){this.ticksPerBeat=e}},{key:"debugPrint",value:function(){var e=this.getType(),t=this.getRow(),n=this.getBeat(),i=this.getTicks();console.debug("\t".concat(e,"(").concat(t," [").concat(n,"], ").concat(i,")"))}},{key:"toString",value:function(e){var t=this.getBeat().toFixed(e),n=this.getTicks();return"".concat(t,"=").concat(n)}},{key:"getValues",value:function(){return[this.getTicks()]}},{key:"equals",value:function(e){return this.getType()===e.getType()&&(e instanceof t&&!!Ve.compareFloat(this.ticksPerBeat,e.ticksPerBeat))}}]),t}(Ve);Ke.DEFAULT_TICK_COUNT=4;var We,qe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).call(this,n,!0)),e.numerator=i,e.denominator=a,e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getType",value:function(){return He.TIME_SIG}},{key:"getEffectType",value:function(){return Ue.Indefinite}},{key:"isNotable",value:function(){return!0}},{key:"getNum",value:function(){return this.numerator}},{key:"setNum",value:function(e){this.numerator=e}},{key:"getDen",value:function(){return this.denominator}},{key:"setDen",value:function(e){this.denominator=e}},{key:"set",value:function(e,t){this.numerator=e,this.denominator=t}},{key:"getNoteRowsPerMeasure",value:function(){return 4*xe.beatToNoteRow(1)*this.numerator/this.denominator}},{key:"getNoteRowsPerBeat",value:function(){return 4*xe.beatToNoteRow(1)/this.denominator}},{key:"debugPrint",value:function(){var e=this.getType(),t=this.getRow(),n=this.getBeat(),i=this.getNum(),a=this.getDen();console.debug("\t".concat(e,"(").concat(t," [").concat(n,"], ").concat(i,"/").concat(a,")"))}},{key:"toString",value:function(e){var t=this.getBeat().toFixed(e),n=this.getNum(),i=this.getDen();return"".concat(t,"=").concat(n,"=").concat(i)}},{key:"getValues",value:function(){return[this.getNum(),this.getDen()]}},{key:"equals",value:function(e){return this.getType()===e.getType()&&(e instanceof t&&(!!Ve.compareFloat(this.numerator,e.numerator)&&!!Ve.compareFloat(this.denominator,e.denominator)))}}]),t}(Ve),Je=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).call(this,n,!0)),e.bps=0,e.setBpm(i),e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getType",value:function(){return He.BPM}},{key:"getEffectType",value:function(){return Ue.Indefinite}},{key:"isNotable",value:function(){return!0}},{key:"getBps",value:function(){return this.bps}},{key:"getBpm",value:function(){return 60*this.bps}},{key:"setBps",value:function(e){this.bps=e}},{key:"setBpm",value:function(e){this.bps=e/60}},{key:"debugPrint",value:function(){var e=this.getType(),t=this.getRow(),n=this.getBeat(),i=this.getBpm();console.debug("\t".concat(e,"(").concat(t," [").concat(n,"], ").concat(i,")"))}},{key:"toString",value:function(e){var t=this.getBeat().toFixed(e),n=this.getBpm().toFixed(e);return"".concat(t,"=").concat(n)}},{key:"getValues",value:function(){return[this.getBpm()]}},{key:"equals",value:function(e){return this.getType()===e.getType()&&(e instanceof t&&!!Ve.compareFloat(this.bps,e.bps))}}]),t}(Ve),Ze=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).call(this,n,!0)),e.seconds=i,e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getType",value:function(){return He.STOP}},{key:"getEffectType",value:function(){return Ue.Row}},{key:"isNotable",value:function(){return this.seconds>0}},{key:"getPause",value:function(){return this.seconds}},{key:"setPause",value:function(e){this.seconds=e}},{key:"debugPrint",value:function(){var e=this.getType(),t=this.getRow(),n=this.getBeat(),i=this.getPause();console.debug("\t".concat(e,"(").concat(t," [").concat(n,"], ").concat(i,")"))}},{key:"toString",value:function(e){var t=this.getBeat().toFixed(e),n=this.getPause();return"".concat(t,"=").concat(n)}},{key:"getValues",value:function(){return[this.getPause()]}},{key:"equals",value:function(e){return this.getType()===e.getType()&&(e instanceof t&&Ve.compareFloat(this.seconds,e.seconds))}}]),t}(Ve),Xe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).call(this,n,!0)),e.seconds=-1,e.seconds=i,e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getType",value:function(){return He.DELAY}},{key:"getEffectType",value:function(){return Ue.Row}},{key:"getPause",value:function(){return this.seconds}},{key:"setPause",value:function(e){this.seconds=e}},{key:"isNotable",value:function(){return this.seconds>0}},{key:"getValues",value:function(){return[this.getPause()]}},{key:"debugPrint",value:function(){var e=this.getType(),t=this.getRow(),n=this.getBeat(),i=this.getPause();console.debug("\t".concat(e,"(").concat(t," [").concat(n,"], ").concat(i,")"))}},{key:"toString",value:function(e){var t=this.getBeat().toFixed(e),n=this.getPause().toFixed(e);return"".concat(t,"=").concat(n)}},{key:"equals",value:function(e){return this.getType()===e.getType()&&(e instanceof t&&Ve.compareFloat(this.seconds,e.seconds))}}]),t}(Ve),$e=-1,et=[null,new Ze,new Xe,null,new ze,null,null,null,null,null,null];(function(e){e[e["WARP"]=0]="WARP",e[e["WARP_DESTINATION"]=1]="WARP_DESTINATION",e[e["BPM_CHANGE"]=2]="BPM_CHANGE",e[e["STOP"]=3]="STOP",e[e["DELAY"]=4]="DELAY",e[e["STOP_DELAY"]=5]="STOP_DELAY",e[e["MARKER"]=6]="MARKER",e[e["NOT_FOUND"]=7]="NOT_FOUND"})(We||(We={}));var tt=function e(){Object(u["a"])(this,e),this.elapsedTime=0,this.beat=0,this.bpsOut=0,this.warpDestOut=0,this.warpBeginOut=-1,this.freezeOut=!1,this.delayOut=!1},nt=function e(){Object(u["a"])(this,e),this.bpm=0,this.warp=0,this.stop=0,this.delay=0,this.lastRow=0,this.lastTime=0,this.warpDestination=0,this.isWarping=!1},it=function(){function e(){Object(u["a"])(this,e),this.beatStartLookup=[],this.timeStartLookup=[],this.beat0OffsetInSecs=0,this.timingSegments=[];for(var t=0;t<He.NUM;t++)this.timingSegments.push([])}return Object(c["a"])(e,[{key:"getBeatInternal",value:function(t,n,i){var a=this.timingSegments,o=a[He.BPM],s=a[He.WARP],r=a[He.STOP],u=a[He.DELAY],c=t.bpm+t.warp+t.stop+t.delay,l=this.getBpmAtRow(t.lastRow)/60;while(c<i){var h={value:Ie.a},g={value:We.NOT_FOUND};if(e.findEvent(h,g,t,0,!1,o,s,r,u),g.value===We.NOT_FOUND)break;var d=t.isWarping?0:xe.noteRowToBeat(h.value-t.lastRow)/l,f=t.lastTime+d;if(n.elapsedTime<f)break;switch(t.lastTime=f,g.value){case We.WARP_DESTINATION:t.isWarping=!1;break;case We.BPM_CHANGE:l=o[t.bpm].getBps(),c++,t.bpm++;break;case We.DELAY:case We.STOP_DELAY:var p=u[t.delay];if(d=p.getPause(),f=t.lastTime+d,n.elapsedTime<f)return n.freezeOut=!1,n.delayOut=!0,n.beat=p.getBeat(),void(n.bpsOut=l);if(t.lastTime=f,c++,t.delay++,g.value===We.DELAY)break;case We.STOP:var v=r[t.stop];if(d=v.getPause(),f=t.lastTime+d,n.elapsedTime<f)return n.freezeOut=!0,n.delayOut=!1,n.beat=v.getBeat(),void(n.bpsOut=l);t.lastTime=f,c++,t.stop++;break;case We.WARP:t.isWarping=!0;var m=s[t.warp],y=m.getLength()+m.getBeat();y>t.warpDestination&&(t.warpDestination=y),n.warpBeginOut=h.value,n.warpDestOut=t.warpDestination,c++,t.warp++;break;default:break}t.lastRow=h.value}n.elapsedTime===Number.MAX_VALUE&&(n.elapsedTime=t.lastTime),n.beat=xe.noteRowToBeat(t.lastRow)+(n.elapsedTime-t.lastTime)*l,n.bpsOut=l}},{key:"getElapsedTimeInternal",value:function(t,n,i){var a=this.timingSegments,o=a[He.BPM],s=a[He.WARP],r=a[He.STOP],u=a[He.DELAY],c=t.bpm+t.warp+t.stop+t.delay,l=this.getBpmAtRow(t.lastRow)/60,h=n<Number.MAX_VALUE;while(c<i){var g={value:Ie.a},d={value:We.NOT_FOUND};e.findEvent(g,d,t,n,h,o,s,r,u);var f=t.isWarping?0:xe.noteRowToBeat(g.value-t.lastRow)/l,p=t.lastTime+f;switch(t.lastTime=p,d.value){case We.WARP_DESTINATION:t.isWarping=!1;break;case We.BPM_CHANGE:l=o[t.bpm].getBps(),c++,t.bpm++;break;case We.STOP:case We.STOP_DELAY:var v=r[t.stop];f=v.getPause(),p=t.lastTime+f,t.lastTime=p,c++,t.stop++;break;case We.DELAY:f=u[t.delay].getPause(),p=t.lastTime+f,t.lastTime=p,c++,t.delay++;break;case We.MARKER:return t.lastTime;case We.WARP:t.isWarping=!0;var m=s[t.warp],y=m.getLength()+m.getBeat();y>t.warpDestination&&(t.warpDestination=y),c++,t.warp++;break;default:break}t.lastRow=g.value}return t.lastTime}},{key:"prepareLookup",value:function(){this.releaseLookup();for(var e=16,t=this.timingSegments,n=t[He.BPM],i=t[He.WARP],a=t[He.STOP],o=t[He.DELAY],s=n.length+i.length+a.length+o.length,r=e;r<s;r+=e){var u=new nt;u.lastTime=-this.beat0OffsetInSecs;var c=new tt;c.elapsedTime=Number.MAX_VALUE,this.getBeatInternal(u,c,r),this.beatStartLookup.push([c.elapsedTime,u]);var l=new nt;l.lastTime=-this.beat0OffsetInSecs,this.getElapsedTimeInternal(l,Number.MAX_VALUE,r),this.timeStartLookup.push([xe.noteRowToBeat(l.lastRow),l])}this.beatStartLookup.length<2&&this.releaseLookup()}},{key:"releaseLookup",value:function(){this.beatStartLookup=[],this.timeStartLookup=[]}},{key:"segInfoStr",value:function(e,t,n){return t<e.length?"".concat(n,": ").concat(t," at ").concat(e[t].getRow()):"".concat(n,": ").concat(t," at end")}},{key:"dumpOneLookupTable",value:function(e,t){var n=this.timingSegments,i=n[He.BPM],a=n[He.WARP],o=n[He.STOP],s=n[He.DELAY];console.debug("".concat(t," lookup table:"));for(var r=0;r<e.length;r++){var u=e[r];if(void 0===u)throw new Error("item should never be undefined");var c=u[1];console.debug("".concat(r,": ").concat(u[0]));var l=this.segInfoStr(i,c.bpm,"bpm"),h=this.segInfoStr(a,c.warp,"warp"),g=this.segInfoStr(o,c.stop,"stop"),d=this.segInfoStr(s,c.delay,"delay"),f="  ".concat(l,", ").concat(h,", ").concat(g,", ").concat(d,",\n")+"  lastRow: ".concat(c.lastRow,", lastTime: ").concat(c.lastTime,",\n")+"  warpDestination: ".concat(c.warpDestination,", isWarping: ").concat(c.isWarping);console.debug(f)}}},{key:"dumpLookupTables",value:function(){console.debug("Dumping timing data lookup tables"),this.dumpOneLookupTable(this.beatStartLookup,"beatStartLookup"),this.dumpOneLookupTable(this.timeStartLookup,"timeStartLookup"),console.debug("Finished dumping lookup tables")}},{key:"empty",value:function(){for(var e=0;e<He.NUM;e++)if(this.timingSegments[e].length>0)return!1;return!0}},{key:"getSegmentAtRow",value:function(e,t){var n=this.getTimingSegments(t);if(0===n.length){var i=et[t];if(null===i)throw new Error("FATAL: retSegment should never be null");return i}var a=this.getSegmentIndexAtRow(t,e),o=n[a];switch(o.getEffectType()){case Ue.Indefinite:return o;default:if(o.getRow()===e)return o;var s=et[t];if(null===s)throw new Error("FATAL: retSegment should never be null");return s}}},{key:"getBpmSegmentAtRow",value:function(e){var t=this.getSegmentAtRow(e,He.BPM);return t}},{key:"getStopSegmentAtRow",value:function(e){var t=this.getSegmentAtRow(e,He.STOP);return t}},{key:"getDelaySegmentAtRow",value:function(e){var t=this.getSegmentAtRow(e,He.DELAY);return t}},{key:"getBpmAtRow",value:function(e){return this.getBpmSegmentAtRow(e).getBpm()}},{key:"getStopAtRow",value:function(e){return this.getStopSegmentAtRow(e).getPause()}},{key:"getDelayAtRow",value:function(e){return this.getDelaySegmentAtRow(e).getPause()}},{key:"isWarpAtRow",value:function(e){var t=this.getTimingSegments(He.WARP);if(0===t.length)return!1;var n=this.getSegmentIndexAtRow(He.WARP,e);if(-1===n)return!1;var i=t[n],a=xe.noteRowToBeat(e);return i.getBeat()<=a&&a<i.getBeat()+i.getLength()&&(0===this.getTimingSegments(He.STOP).length&&0===this.getTimingSegments(He.DELAY).length||0===this.getStopAtRow(e)&&0===this.getDelayAtRow(e))}},{key:"isWarpAtBeat",value:function(e){return this.isWarpAtRow(xe.beatToNoteRow(e))}},{key:"isFakeAtRow",value:function(e){return!1}},{key:"isFakeAtBeat",value:function(e){return this.isFakeAtRow(xe.beatToNoteRow(e))}},{key:"isJudgableAtRow",value:function(e){return!this.isWarpAtRow(e)&&!this.isFakeAtRow(e)}},{key:"isJudgableAtBeat",value:function(e){return this.isJudgableAtRow(xe.beatToNoteRow(e))}},{key:"adjustOffset",value:function(e){this.setOffset(this.beat0OffsetInSecs+e)}},{key:"setOffset",value:function(e){e!==this.beat0OffsetInSecs&&(this.beat0OffsetInSecs=e)}},{key:"getOffset",value:function(){return this.beat0OffsetInSecs}},{key:"getTimingSegments",value:function(e){return this.timingSegments[e]}},{key:"addSegment",value:function(e){var t=e.getType(),n=this.timingSegments[t];if(0!==n.length){var i=this.getSegmentIndexAtRow(t,e.getRow());if(i===$e)throw new Error("ASSERTION FAILED: index should not be INVALID_INDEX");var a=n[i],o=e.isNotable(),s=e.getRow()===a.getRow();if(o||s){switch(e.getEffectType()){case Ue.Row:case Ue.Range:if(s&&o)return void n.splice(i,1);break;case Ue.Indefinite:var r=a;if(s&&i>0&&(r=n[i-1]),i<n.length-1){var u=n[i+1];if(e.equals(u))return e.equals(r)?(n.splice(i+1,1),void(r!==a&&n.splice(i,1))):(u.setRow(e.getRow()),void(r!==a&&n.splice(i,1)));if(r.equals(e))return void(r!==a&&n.splice(i,1))}else if(r.equals(e))return void(r!==a&&n.splice(i,1));break;default:break}if(!s||!a.equals(e)){var c=Ee()(Oe()(Se()(e)),e);if(s)n[i]=c;else{var l=n.findIndex(function(e){return!e.lessThan(c)});-1===l&&(l=n.length),n.splice(l,0,c)}}}}else{var h=Ee()(Oe()(Se()(e)),e);n.push(h)}}},{key:"noteRowToMeasureAndBeat",value:function(e,t,n,i){t.value=0;for(var a=this.getTimingSegments(He.TIME_SIG),o=0;o<a.length;o++){var s=a[o],r=o+1===a.length?Ie.a:s.getRow(),u=s.getNoteRowsPerMeasure(),c=s.getNoteRowsPerBeat();if(e>=s.getRow()){var l=e-s.getRow(),h=Math.trunc(l/u);return t.value+=h,n.value=Math.trunc(l/c),void(i.value=l%u)}var g=r-s.getRow(),d=Math.trunc((g+u-1)/u);t.value+=d}throw new Error("Failed to get measure and beat for note row")}},{key:"getSegmentIndexAtRow",value:function(e,t){var n=this.timingSegments[e];if(0===n.length)return $e;var i=0,a=n.length-1,o=i,s=a;while(o<=s){var r=Math.trunc((o+s)/2);if((r===i||n[r].getRow()<=t)&&(r===a||t<n[r+1].getRow()))return r;n[r].getRow()<=t?o=r+1:s=r-1}return $e}},{key:"getSegmentIndexAtBeat",value:function(e,t){return this.getSegmentIndexAtRow(e,xe.beatToNoteRow(t))}},{key:"getNextSegmentBeatAtRow",value:function(e,t){var n=this.getTimingSegments(e),i=!0,a=!1,o=void 0;try{for(var s,r=y()(n);!(i=(s=r.next()).done);i=!0){var u=s.value;if(!(u.getRow()<=t))return u.getBeat()}}catch(c){a=!0,o=c}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return xe.noteRowToBeat(t)}},{key:"getNextSegmentBeatAtBeat",value:function(e,t){return this.getNextSegmentBeatAtRow(e,xe.beatToNoteRow(t))}},{key:"getPreviousSegmentBeatAtRow",value:function(e,t){var n=-1,i=this.getTimingSegments(e),a=!0,o=!1,s=void 0;try{for(var r,u=y()(i);!(a=(r=u.next()).done);a=!0){var c=r.value;if(c.getRow()>=t)break;n=c.getBeat()}}catch(l){o=!0,s=l}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return n>-1?n:xe.noteRowToBeat(t)}},{key:"getPreviousSegmentBeatAtBeat",value:function(e,t){return this.getPreviousSegmentBeatAtRow(e,xe.beatToNoteRow(t))}},{key:"getBeatFromElapsedTime",value:function(e){var t=new tt;return t.elapsedTime=e,this.getBeatAndBpsFromElapsedTime(t),t.beat}},{key:"getBeatFromElapsedTimeNoOffset",value:function(e){return this.getBeatFromElapsedTime(e)}},{key:"getElapsedTimeFromBeatNoOffset",value:function(t){var n=new nt;n.lastTime=-this.beat0OffsetInSecs;var i=e.findEntryInLookup(this.timeStartLookup,t);return void 0!==i&&(n=Ee()(Oe()(Se()(i[1])),i[1])),this.getElapsedTimeInternal(n,t,Ie.a),n.lastTime}},{key:"getElapsedTimeFromBeat",value:function(e){return this.getElapsedTimeFromBeatNoOffset(e)}},{key:"getBeatAndBpsFromElapsedTime",value:function(e){this.getBeatAndBpsFromElapsedTimeNoOffset(e)}},{key:"getBeatAndBpsFromElapsedTimeNoOffset",value:function(t){var n=new nt;n.lastTime=-this.beat0OffsetInSecs;var i=e.findEntryInLookup(this.beatStartLookup,t.elapsedTime);void 0!==i&&(n=Ee()(Oe()(Se()(i[1])),i[1])),this.getBeatInternal(n,t,Ie.a)}},{key:"getDisplayedSpeedPercent",value:function(e,t){var n=this.getTimingSegments(He.SPEED);return n.length,1}},{key:"tidyUpData",value:function(e){e&&this.empty()||(0===this.timingSegments[He.BPM].length&&(console.warn("Song has no BPM segments, default 60 provided."),this.addSegment(new Je(0,60))),0!==this.timingSegments[He.BPM][0].getRow()&&this.timingSegments[He.BPM][0].setRow(0),0===this.timingSegments[He.TIME_SIG].length&&this.addSegment(new qe(0)),0===this.timingSegments[He.TICKCOUNT].length&&this.addSegment(new Ke(0)))}}],[{key:"findEntryInLookup",value:function(e,t){if(0!==e.length){var n=0,i=e.length-1,a=e[n];if(void 0===a)throw new Error("lookup[lower] must be defined");if(!(a[0]>t)){if(a=e[i],void 0===a)throw new Error("lookup[upper] must be defined");if(a[0]<t)return e[i-1];while(i-n>1){var o=Math.trunc((i+n)/2);if(a=e[o],void 0===a)throw new Error("lookup[next] must be defined");if(a[0]>t)i=o;else{if(!(a[0]<t)){n=o;break}n=o}}if(0!==n)return e[n-1]}}}},{key:"findEvent",value:function(e,t,n,i,a,o,s,r,u){if(n.isWarping&&xe.beatToNoteRow(n.warpDestination)<e.value&&(e.value=xe.beatToNoteRow(n.warpDestination),t.value=We.WARP_DESTINATION),n.bpm<o.length&&o[n.bpm].getRow()<e.value&&(e.value=o[n.bpm].getRow(),t.value=We.BPM_CHANGE),n.delay<u.length&&u[n.delay].getRow()<e.value&&(e.value=u[n.delay].getRow(),t.value=We.DELAY),a&&xe.beatToNoteRow(i)<e.value&&(e.value=xe.beatToNoteRow(i),t.value=We.MARKER),n.stop<r.length&&r[n.stop].getRow()<e.value){var c={value:e.value};e.value=r[n.stop].getRow(),t.value=c.value===e.value?We.STOP_DELAY:We.STOP}n.warp<s.length&&s[n.warp].getRow()<e.value&&(e.value=s[n.warp].getRow(),t.value=We.WARP)}}]),e}(),at=it,ot=n("dab2"),st=n.n(ot),rt=1e6,ut=1e3,ct=function(){function e(t,n){if(Object(u["a"])(this,e),void 0!==t&&void 0!==n)return this.secs=t,void(this.us=n);this.secs=0,this.us=0,this.touch()}return Object(c["a"])(e,[{key:"ago",value:function(){var t=new e;return t.subtract(this)}},{key:"touch",value:function(){var t=e.getTime();this.secs=t.secs,this.us=t.us}},{key:"isZero",value:function(){return 0===this.secs&&0===this.us}},{key:"setZero",value:function(){this.secs=0,this.us=0}},{key:"getDeltaTime",value:function(){var t=new e,n=e.difference(t,this);return this.secs=t.secs,this.us=t.us,n}},{key:"peekDeltaTime",value:function(){return this.ago()}},{key:"half",value:function(){var e=this.ago()/2;return this.add(e)}},{key:"add",value:function(t){return e.sum(this,t)}},{key:"subtract",value:function(t){return e.difference(this,t)}},{key:"lessThan",value:function(e){return this.secs!==e.secs?this.secs<e.secs:this.us<e.us}}],[{key:"getTime",value:function(){var t=st()(),n=t[0],i=Math.trunc(t[1]/ut);0===e.initTimeSecs&&(e.initTimeSecs=n,e.initTimeUs=i);var a=n-e.initTimeSecs,o=i-e.initTimeUs;return o<0&&(o+=rt,--a),{secs:a,us:o}}},{key:"sum",value:function(t,n){var i=Math.trunc(n),a=Math.trunc((n-i)*rt),o=new e(0,0);return o.secs=i+t.secs,o.us=a+t.us,o.us>=rt&&(o.us-=rt,++o.secs),o}},{key:"difference",value:function(e,t){var n=e.secs-t.secs,i=e.us-t.us;return i<0&&(i+=rt,--n),n+i/rt}}]),e}();ct.initTimeSecs=0,ct.initTimeUs=0;var lt,ht,gt=ct,dt=new ct(0,0),ft=n("59ad"),pt=n.n(ft),vt=n("e814"),mt=n.n(vt),yt=n("a4bb"),At=n.n(yt),wt=(n("28a5"),60);(function(e){e[e["Single"]=0]="Single",e[e["Double"]=1]="Double",e[e["Couple"]=2]="Couple",e[e["Routine"]=3]="Routine"})(lt||(lt={})),function(e){e[e["dance_single"]=0]="dance_single",e[e["dance_double"]=1]="dance_double",e[e["dance_couple"]=2]="dance_couple",e[e["dance_solo"]=3]="dance_solo",e[e["dance_threepanel"]=4]="dance_threepanel",e[e["dance_routine"]=5]="dance_routine",e[e["pump_single"]=6]="pump_single",e[e["pump_halfdouble"]=7]="pump_halfdouble",e[e["pump_double"]=8]="pump_double",e[e["pump_couple"]=9]="pump_couple",e[e["pump_routine"]=10]="pump_routine",e[e["kb7_single"]=11]="kb7_single",e[e["ez2_single"]=12]="ez2_single",e[e["ez2_double"]=13]="ez2_double",e[e["ez2_real"]=14]="ez2_real",e[e["para_single"]=15]="para_single",e[e["ds3ddx_single"]=16]="ds3ddx_single",e[e["beat_single5"]=17]="beat_single5",e[e["beat_versus5"]=18]="beat_versus5",e[e["beat_double5"]=19]="beat_double5",e[e["beat_single7"]=20]="beat_single7",e[e["beat_versus7"]=21]="beat_versus7",e[e["beat_double7"]=22]="beat_double7",e[e["maniax_single"]=23]="maniax_single",e[e["maniax_double"]=24]="maniax_double",e[e["techno_single4"]=25]="techno_single4",e[e["techno_single5"]=26]="techno_single5",e[e["techno_single8"]=27]="techno_single8",e[e["techno_double4"]=28]="techno_double4",e[e["techno_double5"]=29]="techno_double5",e[e["techno_double8"]=30]="techno_double8",e[e["popn_five"]=31]="popn_five",e[e["popn_nine"]=32]="popn_nine",e[e["lights_cabinet"]=33]="lights_cabinet",e[e["kickbox_human"]=34]="kickbox_human",e[e["kickbox_quadarm"]=35]="kickbox_quadarm",e[e["kickbox_insect"]=36]="kickbox_insect",e[e["kickbox_arachnid"]=37]="kickbox_arachnid",e[e["NUM"]=38]="NUM",e[e["Invalid"]=39]="Invalid"}(ht||(ht={}));var Tt,kt=function(){function e(t,n,i,a){Object(u["a"])(this,e),this.stepTypeName=t,this.numTracks=n,this.allowAutogen=i,this.stepsTypeCategory=a}return Object(c["a"])(e,[{key:"toString",value:function(){return this.stepTypeName}}]),e}(),bt=[new kt("dance-single",4,!0,lt.Single),new kt("dance-double",8,!0,lt.Double),new kt("dance-couple",8,!0,lt.Couple),new kt("dance-solo",6,!0,lt.Single),new kt("dance-threepanel",3,!0,lt.Single),new kt("dance-routine",8,!1,lt.Routine),new kt("pump-single",5,!0,lt.Single),new kt("pump-halfdouble",6,!0,lt.Double),new kt("pump-double",10,!0,lt.Double),new kt("pump-couple",10,!0,lt.Couple),new kt("pump-routine",10,!0,lt.Routine),new kt("kb7-single",7,!0,lt.Single),new kt("ez2-single",5,!0,lt.Single),new kt("ez2-double",10,!0,lt.Double),new kt("ez2-real",7,!0,lt.Single),new kt("para-single",5,!0,lt.Single),new kt("ds3ddx-single",8,!0,lt.Single),new kt("bm-single5",6,!0,lt.Single),new kt("bm-versus5",6,!0,lt.Single),new kt("bm-double5",12,!0,lt.Double),new kt("bm-single7",8,!0,lt.Single),new kt("bm-versus7",8,!0,lt.Single),new kt("bm-double7",16,!0,lt.Double),new kt("maniax-single",4,!0,lt.Single),new kt("maniax-double",8,!0,lt.Double),new kt("techno-single4",4,!0,lt.Single),new kt("techno-single5",5,!0,lt.Single),new kt("techno-single8",8,!0,lt.Single),new kt("techno-double4",8,!0,lt.Double),new kt("techno-double5",10,!0,lt.Double),new kt("techno-double8",16,!0,lt.Double),new kt("pnm-five",5,!0,lt.Single),new kt("pnm-nine",9,!0,lt.Single),new kt("lights-cabinet",6,!1,lt.Single),new kt("kickbox-human",4,!0,lt.Single),new kt("kickbox-quadarm",4,!0,lt.Single),new kt("kickbox-insect",6,!0,lt.Single),new kt("kickbox-arachnid",8,!0,lt.Single)];(function(e){e[e["Beginner"]=0]="Beginner",e[e["Easy"]=1]="Easy",e[e["Medium"]=2]="Medium",e[e["Hard"]=3]="Hard",e[e["Challenge"]=4]="Challenge",e[e["Edit"]=5]="Edit",e[e["NUM"]=6]="NUM",e[e["Invalid"]=7]="Invalid"})(Tt||(Tt={}));var St=new T.a([["beginner",Tt.Beginner],["easy",Tt.Easy],["basic",Tt.Easy],["light",Tt.Easy],["medium",Tt.Medium],["another",Tt.Medium],["trick",Tt.Medium],["standard",Tt.Medium],["difficult",Tt.Medium],["hard",Tt.Hard],["ssr",Tt.Hard],["maniac",Tt.Hard],["heavy",Tt.Hard],["smaniac",Tt.Challenge],["challenge",Tt.Challenge],["expert",Tt.Challenge],["oni",Tt.Challenge],["edit",Tt.Edit]]),Bt=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"stringToStepsType",value:function(e){for(var t=0;t<bt.length;t++)if(bt[t].stepTypeName===e)return t;return ht.Invalid}},{key:"getStepsTypeInfo",value:function(e){if(e>=ht.NUM)throw new Error("getStepsTypeInfo(): Invalid steps type index ".concat(e));return bt[e]}},{key:"oldStyleStringToDifficulty",value:function(e){var t=St.get(e.toLowerCase());return void 0===t?Tt.Invalid:t}},{key:"HHMMSSToSeconds",value:function(e){var t=e.split(":");while(t.length<3)t.splice(0,0,"0");var n=0;return n+=60*this.stringToInt(t[0])*60,n+=60*this.stringToInt(t[1]),n+=this.stringToFloat(t[2]),n}},{key:"forEachEnum",value:function(e){var t=[],n=At()(e);n.map(function(n){if("NUM"!==n){var i=e[n];i<e.NUM&&t.push(i)}});return t}},{key:"clamp",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"stringToInt",value:function(e){var t=mt()(e,10);return isNaN(t)?0:t}},{key:"stringToFloat",value:function(e){var t=pt()(e);return isNaN(t)?0:t}},{key:"lerp",value:function(e,t,n){return(n-t)*e+t}},{key:"scale",value:function(t,n,i,a,o){return 0===n&&1===i?e.lerp(t,a,o):(t-n)*(o-a)/(i-n)+a}}]),e}(),Ot=Bt,Nt=function(){function e(t){Object(u["a"])(this,e),this.sound=t}return Object(c["a"])(e,[{key:"play",value:function(e){void 0!==e&&this.seek(e),this.sound.play()}},{key:"pause",value:function(){this.sound.pause()}},{key:"seek",value:function(e){this.sound.seek(e)}},{key:"getSound",value:function(){return this.sound}},{key:"getTimeElapsed",value:function(){var e=this.sound.seek();return e}}]),e}(),Et=Nt,Rt=1/wt*2,It=.05,Dt=function(){function e(t,n){Object(u["a"])(this,e),this.hasTiming=!1,this.applyMusicRate=!1,this.music=new Et(t),this.timing=n}return Object(c["a"])(e,[{key:"hasMusic",value:function(){return void 0!==this.music}}]),e}(),Pt=function e(){Object(u["a"])(this,e),this.hasTiming=!1,this.startSeconds=0,this.lengthSeconds=0,this.fadeInLengthSeconds=0,this.fadeOutLengthSeconds=0,this.forceLoop=!1,this.alignBeat=!1,this.applyMusicRate=!1},Mt=function(){function e(){Object(u["a"])(this,e),this.updatingTimer=!1,this.beatLastCrossed=0,this.outOfSyncSecs=0}return Object(c["a"])(e,[{key:"pauseMusic",value:function(){void 0!==this.musicPlaying&&this.musicPlaying.music.pause()}},{key:"resumeMusic",value:function(){void 0!==this.musicPlaying&&this.musicPlaying.music.play()}},{key:"musicSeek",value:function(e){void 0!==this.musicPlaying&&this.musicPlaying.music.seek(e)}},{key:"musicSkipforwards",value:function(e){if(void 0!==this.musicPlaying){var t=this.musicPlaying.music.getTimeElapsed();this.musicPlaying.music.seek(t+e)}}},{key:"getMusicTimeSeconds",value:function(){return void 0!==this.musicPlaying?this.musicPlaying.music.getTimeElapsed():0}},{key:"getMusicTiming",value:function(){return void 0!==this.musicPlaying?this.musicPlaying.timing:new at}},{key:"startMusic",value:function(e){var t=this;if(void 0===e.music||"loaded"!==e.music.state())throw new Error("toPlay.music must be provided and loaded");if(void 0===e.timing)throw new Error("toPlay.timing must be provided");var n=new Dt(e.music,e.timing);n.hasTiming=e.hasTiming,n.music.seek(e.startSeconds),e.forceLoop&&n.music.getSound().loop(!0),n.music.play(),e.forceLoop||n.music.getSound().on("end",function(){t.handleSongTimer(!1)}),this.musicPlaying=n}},{key:"handleSongTimer",value:function(e){this.updatingTimer=e}},{key:"isHandlingSongTimer",value:function(){return this.updatingTimer}},{key:"update",value:function(e){if(this.updatingTimer){var t=1;if(void 0!==zt.curSong&&zt.updateSongPosition(zt.position.musicSeconds+e*t,zt.curSong.songTiming),void 0!==zt.curSong){var n=zt.position.songBeat,i=xe.beatToNoteRowNotRounded(n);i=Math.max(0,i);for(var a=Math.trunc(i/je),o=this.beatLastCrossed+1;o<=a;o++);this.beatLastCrossed=a}this.resyncSongTimingWithMusicPosition(e)}}},{key:"resyncSongTimingWithMusicPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0!==zt.curSong&&void 0!==this.musicPlaying&&(this.musicPlaying.music.getSound().playing()||t)){var n=this.musicPlaying.music.getTimeElapsed(),i=Math.abs(n-zt.position.musicSeconds);i>Rt?(this.outOfSyncSecs+=i,this.outOfSyncSecs>It&&(this.outOfSyncSecs=0,zt.updateSongPosition(n,this.musicPlaying.timing),console.log("resynced song to music"))):this.outOfSyncSecs=0}}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),Lt=Mt.getInstance(),Ct=Lt;function xt(e){e||(console.debug("Debug assert failed."),console.trace())}function jt(e,t){if(!e)throw new Error(t)}var Ft=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"PAUSE",value:function(){zt.pause(),Ct.pauseMusic()}},{key:"PLAY",value:function(){zt.play(),Ct.resumeMusic()}},{key:"FRAME_ADVANCE",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=e*(1/wt);Ct.musicSkipforwards(t),zt.updateSongPosition(Ct.getMusicTimeSeconds(),Ct.getMusicTiming())}}]),e}(),Ht=function(){function e(){Object(u["a"])(this,e),this.musicSeconds=0,this.songBeat=0,this.songBeatNoOffset=0,this.curBps=0,this.freeze=!1,this.delay=!1,this.warpBeginRow=0,this.warpDestination=0,this.lastBeatUpdate=new ct,this.musicSecondsVisible=-1,this.songBeatVisible=-1}return Object(c["a"])(e,[{key:"reset",value:function(){this.musicSecondsVisible=0,this.songBeatVisible=0,this.musicSeconds=0,this.songBeat=0,this.songBeatNoOffset=0,this.curBps=0,this.freeze=!1,this.delay=!1,this.warpBeginRow=-1,this.warpDestination=-1}},{key:"updateSongPosition",value:function(e,t,n){n.isZero()?this.lastBeatUpdate.touch():this.lastBeatUpdate=n;var i=new tt;i.elapsedTime=e,t.getBeatAndBpsFromElapsedTime(i),this.songBeat=i.beat,this.curBps=i.bpsOut,this.freeze=i.freezeOut,this.delay=i.delayOut,this.warpBeginRow=i.warpBeginOut,this.warpDestination=i.warpDestOut,jt(this.songBeat>-2e3,"Song beat ".concat(this.songBeat," at ").concat(e," is less than -2000")),this.musicSeconds=e,this.songBeatNoOffset=t.getBeatFromElapsedTimeNoOffset(this.musicSecondsVisible),this.musicSecondsVisible=this.musicSeconds,this.songBeatVisible=this.songBeat}}]),e}(),Ut=Ht,Qt=function(){function e(){Object(u["a"])(this,e),this.playerNumber=N.PLAYER_1,this.position=new Ut,this.readBPM=0}return Object(c["a"])(e,[{key:"update",value:function(e){}},{key:"getDisplayedPosition",value:function(){return zt.isUsingStepTiming?this.position:zt.position}},{key:"getDisplayedTiming",value:function(){var e=zt.curSteps[this.playerNumber];return e.timingData}}]),e}(),_t=n("f28b"),Yt=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(h["a"])(t).call(this,"Not yet implemented"))}return Object(g["a"])(t,e),t}(Object(_t["a"])(Error)),Gt=function(){function e(){Object(u["a"])(this,e),this.position=new Ut,this.isUsingStepTiming=!1,this.lastPositionTimer=new ct,this.lastPositionSeconds=0,this.paused=!1,this.curSteps=[],this.selectedSteps=0,this.playerState=[];var t=!0,n=!1,i=void 0;try{for(var a,o=y()(Ot.forEachEnum(N));!(t=(a=o.next()).done);t=!0){var s=a.value;this.playerState[s]=new Qt}}catch(r){n=!0,i=r}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.hasteRate=1,this.reset()}return Object(c["a"])(e,[{key:"reset",value:function(){this.paused=!1}},{key:"loadNextSong",value:function(e){this.pause(),Ct.pauseMusic(),this.resetMusicStatistics(),void 0!==e&&this.setCurSong(e)}},{key:"setCurSong",value:function(e){void 0!==this.curSong&&this.curSong.songTiming.releaseLookup(),console.log("changed song!"),this.curSong=e,void 0!==this.curSong&&this.curSong.songTiming.prepareLookup()}},{key:"play",value:function(){Ct.handleSongTimer(!0)}},{key:"pause",value:function(){Ct.handleSongTimer(!1)}},{key:"isPaused",value:function(){return!Ct.isHandlingSongTimer()}},{key:"update",value:function(e){this.playerState[0].update(e)}},{key:"resetMusicStatistics",value:function(){this.position.reset(),this.lastPositionTimer.touch(),this.lastPositionSeconds=0,this.setBgmTime(0,0,0,0),this.playerState[0].position.reset()}},{key:"getSongPercent",value:function(e){throw new Yt}},{key:"setBgmTime",value:function(t,n,i,a){e.currentBgmTime=t,e.currentBgmBeat=n,e.currentBgmTimeNoOffset=i,e.currentBgmBeatNoOffset=a}},{key:"setPlayerBgmBeat",value:function(t,n,i){e.currentBgmBeatPlayer[t]=n,e.currentBgmBeatPlayerNoOffset[t]=i}},{key:"updateSongPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dt;e!==this.lastPositionSeconds||this.paused?(this.lastPositionTimer.touch(),this.lastPositionSeconds=e):e+=this.lastPositionTimer.ago(),this.position.updateSongPosition(e,t,n);var i=0;this.curSteps.length&&(this.playerState[i].position.updateSongPosition(e,this.curSteps[i].timingData,n),this.setPlayerBgmBeat(i,this.playerState[i].position.songBeatVisible,this.playerState[i].position.songBeatNoOffset)),this.setBgmTime(Vt.position.musicSecondsVisible,this.position.songBeatVisible,e,this.position.songBeatNoOffset)}},{key:"loadSong",value:function(e,t,n){this.loadNextSong(e);var i=new Pt;i.music=t,i.hasTiming=!0,i.timing=e.songTiming,void 0!==n&&(i.startSeconds=n),Vt.play(),Ct.startMusic(i)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();Gt.currentBgmTime=0,Gt.currentBgmBeat=0,Gt.currentBgmTimeNoOffset=0,Gt.currentBgmBeatNoOffset=0,Gt.currentBgmBeatPlayer=[],Gt.currentBgmBeatPlayerNoOffset=[];var Vt=Gt.getInstance(),zt=Vt,Kt=1,Wt=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"getYOffset",value:function(t,n,i){if(void 0===zt.curSong)return 0;n.value=Number.MAX_VALUE,i.value=!0;var a=0,o=zt.position,s=o.songBeatVisible,r=(zt.curSong.getSteps(zt.selectedSteps),zt.curSong.songTiming);if(1!==this.timeSpacing&&(a=e.getDisplayedBeat(t)-e.getDisplayedBeat(s),a*=r.getDisplayedSpeedPercent(o.songBeatVisible,o.musicSecondsVisible),a*=1-this.timeSpacing),0!==this.timeSpacing){var u=zt.position.musicSecondsVisible,c=r.getElapsedTimeFromBeat(t),l=c-u,h=this.scrollBpm,g=h/60,d=l*g;a+=d*this.timeSpacing}a*=Kt;var f=this.scrollSpeed;return 0!==this.maxScrollBpm&&(f=this.maxScrollBpm/(1*this.readBpm)),a<0?a*f:(a*=f,n.value*=f,a)}},{key:"getDisplayedBeat",value:function(t){var n=e.displayedBeatCache,i=n.length-1,a=0,o=i;while(a<=o){var s=Math.trunc((a+o)/2);if((0===s||n[s].beat<=t)&&(s===i||t<n[s+1].beat))return n[s].displayedBeat+n[s].velocity*(t-n[s].beat);n[s].beat<=t?a=s+1:o=s-1}return t}}]),e}();Wt.displayedBeatCache=[],Wt.noteStatCache=[],Wt.timeSpacing=0,Wt.maxScrollBpm=0,Wt.scrollSpeed=220,Wt.speedScrollSpeed=1,Wt.scrollBpm=1e3,Wt.speedScrollBpm=1,Wt.readBpm=400;var qt=Wt,Jt=function(e){function t(e,n){var i;Object(u["a"])(this,t),de.checkDependencies();var a=xe.beatToNoteType(n);a===Me.N_192ND&&(a=Me.N_64TH),i=Object(l["a"])(this,Object(h["a"])(t).call(this,oe.getSpriteInfo(K),a)),i.direction=e,i.noteType=a,i.noteBeat=n,i.sprite.rotation=90*i.direction*(Math.PI/180);var o=B(i.direction);return i.sprite.x=E+k*o,i.setYPosBasedOnBeat(),i.sprite.play(),i}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getDirection",value:function(){return this.direction}},{key:"getNoteType",value:function(){return this.noteType}},{key:"getBeat",value:function(){return this.noteBeat}},{key:"update",value:function(e){return this.setYPosBasedOnBeat(),this}},{key:"setYPosBasedOnBeat",value:function(){var e={value:0},t={value:!1};this.sprite.y=qt.getYOffset(this.noteBeat,e,t)+ve}}]),t}(pe),Zt=Jt,Xt=function(e){function t(e,n){var i;Object(u["a"])(this,t),de.checkDependencies(),i=Object(l["a"])(this,Object(h["a"])(t).call(this,oe.getSpriteInfo(q),0)),i.direction=e,i.noteBeat=n;var a=B(i.direction);return i.sprite.x=E+k*a,i.setYPosBasedOnBeat(),i.sprite.play(),i}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"getDirection",value:function(){return this.direction}},{key:"getBeat",value:function(){return this.noteBeat}},{key:"update",value:function(e){return this.setYPosBasedOnBeat(),this}},{key:"setYPosBasedOnBeat",value:function(){var e={value:0},t={value:!1};this.sprite.y=qt.getYOffset(this.noteBeat,e,t)+ve}}]),t}(pe),$t=Xt,en=function(e){function t(e,n,i,a,o){var s;Object(u["a"])(this,t),s=Object(l["a"])(this,Object(h["a"])(t).call(this)),s.direction=e,s.noteBeat=n,s.duration=i,s.onStage=!1,s.height=s.calculateLongNoteHeight();var r=0,c=0;if(r=a.height-s.height%a.height,c=a.height-r,s.height>a.height){s.bodyTilingSprite=[];var g=s.height-c;while(g>0){var d=Math.min(g,a.height),f=void 0;f=d===a.height?a.textures[0][0]:new A["f"](a.textures[0][0].baseTexture,new A["d"](0,0,a.width,d));var p=new A["e"](f);s.bodyTilingSprite.push(new de(p)),g-=d}}var v=new A["f"](a.textures[0][0].baseTexture,new A["d"](0,r,a.width,c)),m=new A["e"](v);s.bodySprite=new de(m);var y=new A["e"](o.textures[0][0]);s.bottomCapSprite=new de(y);var w=B(s.direction),T=E+k*w;return m.x=T,void 0!==s.bodyTilingSprite&&s.bodyTilingSprite.forEach(function(e){return e.getSprite().x=T}),y.x=T,m.anchor.y=0,void 0!==s.bodyTilingSprite&&s.bodyTilingSprite.forEach(function(e){return e.getSprite().anchor.y=0}),y.anchor.y=0,s.updateSprites(),s}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"destroy",value:function(){this.removeFromStage(),Object(se["a"])(Object(h["a"])(t.prototype),"destroy",this).call(this)}},{key:"isOnStage",value:function(){return this.onStage}},{key:"addToStage",value:function(){return this.onStage?this:(this.onStage=!0,this.bottomCapSprite.addToStage(),void 0!==this.bodyTilingSprite&&this.bodyTilingSprite.forEach(function(e){return e.addToStage()}),this.bodySprite.addToStage(),this)}},{key:"removeFromStage",value:function(){return this.onStage?(this.onStage=!1,this.bottomCapSprite.removeFromStage(),void 0!==this.bodyTilingSprite&&this.bodyTilingSprite.forEach(function(e){return e.removeFromStage()}),this.bodySprite.removeFromStage(),this):this}},{key:"update",value:function(e){return this.updateSprites(),this}},{key:"calculateLongNoteHeight",value:function(){var e={value:0},t={value:!1},n=qt.getYOffset(this.noteBeat,e,t)+ve,i=qt.getYOffset(this.noteBeat+this.duration,e,t)+ve;return i-n-S/2}},{key:"updateSprites",value:function(){var e={value:0},t={value:!1},n=qt.getYOffset(this.noteBeat,e,t)+ve,i=this.bodySprite.getSprite();if(i.y=n,void 0!==this.bodyTilingSprite){var a=n+i.height;this.bodyTilingSprite.forEach(function(e){e.getSprite().y=a,a+=e.getSprite().height})}this.bottomCapSprite.setPosY(n+this.height)}}]),t}(he),tn=en,nn=function(e){function t(e,n,i){Object(u["a"])(this,t);var a=oe.getSpriteInfo(Z),o=oe.getSpriteInfo($);return Object(l["a"])(this,Object(h["a"])(t).call(this,e,n,i,a,o))}return Object(g["a"])(t,e),t}(tn),an=nn,on=function(e){function t(e,n,i){Object(u["a"])(this,t);var a=oe.getSpriteInfo(ee),o=oe.getSpriteInfo(te);return Object(l["a"])(this,Object(h["a"])(t).call(this,e,n,i,a,o))}return Object(g["a"])(t,e),t}(tn),sn=on,rn=function e(){Object(u["a"])(this,e),this.tapNotes=new T.a,this.holdCaps=new T.a},un=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).call(this)),e.noteTracks=[],e.resetTracks(4),e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"resetTracks",value:function(e){var t=!0,n=!1,i=void 0;try{for(var a,o=y()(this.noteTracks);!(t=(a=o.next()).done);t=!0){var s=a.value,r=!0,u=!1,c=void 0;try{for(var l,h=y()(s.tapNotes);!(r=(l=h.next()).done);r=!0){var g=l.value;g[1].destroy()}}catch(T){u=!0,c=T}finally{try{r||null==h.return||h.return()}finally{if(u)throw c}}var d=!0,f=!1,p=void 0;try{for(var v,m=y()(s.holdCaps);!(d=(v=m.next()).done);d=!0){var A=v.value;A[1].destroy()}}catch(T){f=!0,p=T}finally{try{d||null==m.return||m.return()}finally{if(f)throw p}}}}catch(T){n=!0,i=T}finally{try{t||null==o.return||o.return()}finally{if(n)throw i}}this.noteTracks=[];for(var w=0;w<e;w++)this.noteTracks.push(new rn)}},{key:"findFirstDisplayedBeat",value:function(e){var t=zt.position.songBeat,n=0,i=t,a=0!==qt.noteStatCache.length;a||(n=i-4);for(var o=24,s=64,r=n,u=0;u<o;u++){var c=(n+i)/2,l={value:!1},h={value:0},g=qt.getYOffset(c,h,l);g<e||a&&this.getNumNotesRange(c,t)>s?(r=c,n=c):i=c}return r}},{key:"findLastDisplayedBeat",value:function(e){if(void 0===zt.curSong)return 0;for(var t=zt.position,n=zt.curSong.songTiming,i=10,a=t.songBeat+i,o=n.getDisplayedSpeedPercent(t.songBeatVisible,t.musicSecondsVisible),s=20,r=0;r<s;r++){var u={value:!1},c={value:0},l=qt.getYOffset(a,c,u);l>e?a-=i:a+=i,i/=2}return o<.75&&(a=Math.min(a,t.songBeat+16)),a}},{key:"getNumNotesFromBeginning",value:function(e){var t=qt.noteStatCache,n=t.length-1,i=0,a=n;while(i<=a){var o=Math.trunc((i+a)/2);if((0===o||t[o].beat<=e)&&(o===n||e<t[o+1].beat))return t[o];t[o].beat<=e?i=o+1:a=o-1}return{beat:0,notesLower:0,notesUpper:0}}},{key:"getNumNotesRange",value:function(e,t){var n=this.getNumNotesFromBeginning(e),i=this.getNumNotesFromBeginning(t);return i.notesUpper-n.notesLower}},{key:"updateNotes",value:function(e){if(void 0===zt.curSong)return this;zt.position.songBeatVisible;for(var t=1e3,n=this.findFirstDisplayedBeat(t),i=this.findLastDisplayedBeat(t),a=xe.beatToNoteRow(n),o=xe.beatToNoteRow(i),s=zt.curSong.getSteps(zt.selectedSteps).getNoteData(),r=0;r<s.tapNotes.length;r++){var u=!0,c=!1,l=void 0;try{for(var h,g=y()(s.tapNotes[r]);!(u=(h=g.next()).done);u=!0){var d=h.value;if(!(d[0]<a)){if(d[0]>o)break;if((d[1].type===Ae.Tap||d[1].type===Ae.HoldHead||d[1].type===Ae.Mine)&&!this.noteTracks[r].tapNotes.has(d[0])){var f=xe.noteRowToBeat(d[0]),p=O(r),v=void 0;switch(d[1].type){case Ae.Tap:v=new Zt(p,f);break;case Ae.HoldHead:v=new Zt(p,f);var m=void 0;m=d[1].subType===we.Hold?new an(p,f,xe.noteRowToBeat(d[1].duration)):new sn(p,f,xe.noteRowToBeat(d[1].duration)),this.noteTracks[r].holdCaps.set(d[0],m.addToStage());break;case Ae.Mine:v=new $t(p,f);break;default:throw new Error("Unprocessable TapNoteType encountered: ".concat(d[1].type))}this.noteTracks[r].tapNotes.set(d[0],v.setZIndex(-d[0]).addToStage())}}}}catch(H){c=!0,l=H}finally{try{u||null==g.return||g.return()}finally{if(c)throw l}}}var A=[],w=!0,T=!1,k=void 0;try{for(var b,S=y()(this.noteTracks);!(w=(b=S.next()).done);w=!0){var B=b.value,N=!0,E=!1,R=void 0;try{for(var I,D=y()(B.tapNotes);!(N=(I=D.next()).done);N=!0){var P=I.value;(P[0]<a||P[0]>o)&&A.push([P[0],P[1],B.tapNotes])}}catch(H){E=!0,R=H}finally{try{N||null==D.return||D.return()}finally{if(E)throw R}}var M=!0,L=!1,C=void 0;try{for(var x,j=y()(B.holdCaps);!(M=(x=j.next()).done);M=!0){var F=x.value;F[0]>o&&A.push([F[0],F[1],B.holdCaps])}}catch(H){L=!0,C=H}finally{try{M||null==j.return||j.return()}finally{if(L)throw C}}}}catch(H){T=!0,k=H}finally{try{w||null==S.return||S.return()}finally{if(T)throw k}}A.forEach(function(e){e[2].delete(e[0]),e[1].destroy()})}},{key:"update",value:function(e){return this.updateNotes(e),this}}]),t}(he),cn=un,ln=function(){function e(){Object(u["a"])(this,e),this.pixiApp=null,this.receptorsVisible=!1,this.receptorSprites=[]}return Object(c["a"])(e,[{key:"initPixi",value:function(t){console.log("initpixi"),this.pixiApp=new A["b"]({width:t.width,height:t.height,view:t.renderCanvas,backgroundColor:0,forceCanvas:!0}),this.pixiApp.renderer instanceof A["c"]&&console.log("its canvas"),oe.loadSprites(),this.pixiApp.ticker.maxFPS=e.desiredFps(),this.pixiApp.ticker.start()}},{key:"isInit",value:function(){return null!==this.pixiApp}},{key:"isReadyToDraw",value:function(){return this.isInit()&&oe.isDoneLoading()}},{key:"getPixiApp",value:function(){if(null===this.pixiApp)throw new Error("Tried to get null pixiApp. Use isInit() first to ensure it exists.");return this.pixiApp}},{key:"setBgColor",value:function(e){this.getPixiApp().renderer.backgroundColor=e}},{key:"showReceptors",value:function(){if(!this.receptorsVisible){if(0===this.receptorSprites.length)for(var e=[o.LEFT,o.DOWN,o.UP,o.RIGHT],t=0,n=e;t<n.length;t++){var i=n[t];this.receptorSprites.push(new ye(i).addToStage())}var a=!0,s=!1,r=void 0;try{for(var u,c=y()(this.receptorSprites);!(a=(u=c.next()).done);a=!0){var l=u.value;l.getSprite().visible=!0}}catch(h){s=!0,r=h}finally{try{a||null==c.return||c.return()}finally{if(s)throw r}}this.noteField=new cn,this.receptorsVisible=!0}}},{key:"hideReceptors",value:function(){if(this.receptorsVisible&&0!==this.receptorSprites.length){var e=!0,t=!1,n=void 0;try{for(var i,a=y()(this.receptorSprites);!(e=(i=a.next()).done);e=!0){var o=i.value;o.getSprite().visible=!1}}catch(s){t=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}this.receptorsVisible=!1}}}],[{key:"desiredFps",value:function(){return 60}},{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}(),hn=ln.getInstance(),gn=hn,dn=function(e){function t(){return Object(u["a"])(this,t),Object(l["a"])(this,Object(h["a"])(t).apply(this,arguments))}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"data",value:function(){return{}}},{key:"provide",value:function(){return{}}},{key:"mounted",value:function(){console.log("mounted");var e=this.$refs.renderCanvas,t=e.offsetWidth,n=e.offsetHeight;gn.isInit()||gn.initPixi({renderCanvas:e,width:t,height:n})}}]),t}(i["default"]);dn=d["a"]([f["a"]],dn);var fn,pn=dn,vn=pn,mn=(n("6980"),n("2877")),yn=Object(mn["a"])(vn,p,v,!1,null,"1165683c",null),An=yn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"chart-picker"},[n("v-select",{attrs:{items:e.packs,"item-text":"name","item-value":"name",label:"Pack"},on:{change:function(t){return e.changePackEvent()}},model:{value:e.selectedPack,callback:function(t){e.selectedPack=t},expression:"selectedPack"}}),n("v-select",{attrs:{items:e.charts,"item-text":"name","item-value":"name",label:"Chart"},on:{change:function(t){return e.changeChartEvent()}},model:{value:e.selectedChart,callback:function(t){e.selectedChart=t},expression:"selectedChart"}}),n("v-select",{attrs:{items:e.steps,"item-text":e.getStepsItemText,"item-value":e.getStepsItemValue,label:"Steps"},on:{change:function(t){return e.changeStepsEvent()}},model:{value:e.selectedSteps,callback:function(t){e.selectedSteps=t},expression:"selectedSteps"}})],1)},Tn=[],kn=n("795b"),bn=n.n(kn),Sn=(n("5df3"),n("7514"),n("bc3a")),Bn=n.n(Sn),On=n("0a0d"),Nn=n.n(On),En=n("1e5c"),Rn=6e4,In=200,Dn=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"loadTextFile",value:function(e){return Bn.a.get(e,{responseType:"text"}).then(function(e){return e.data})}},{key:"loadOggFileAsHowl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1,i=null,a=new En["Howl"]({src:[e],html5:t,onload:function(){n=!0},onloaderror:function(t,n){i=new Error("error loading .ogg file at ".concat(e,": ").concat(n))}});return new bn.a(function(t,o){var s=Nn()(),r=Rn,u=function o(){if(n)console.log("succesfully loaded .ogg file at ".concat(e)),t(a);else{if(null!==i)throw i;if(Nn()()>s+r)throw new Error("timed out after ".concat(r,"ms while loading .ogg file at ").concat(e));setTimeout(o,In)}};u()})}}]),e}(),Pn=Dn,Mn=(n("55dd"),n("a481"),n("03cc")),Ln=n.n(Mn),Cn=n("75fc"),xn=n("5d58"),jn=n.n(xn),Fn=function(){function e(){Object(u["a"])(this,e),this.map=new T.a,this.mapReverse=new T.a,this.size=0,this.isSorted=!0,this.proxy()}return Object(c["a"])(e,[{key:"entries",value:function(e,t){return this.sort(),new Hn(this.map,fn.Forwards,e,t)}},{key:"keys",value:function(){return this.sort(),this.map.keys()}},{key:"values",value:function(){return this.sort(),this.map.values()}},{key:jn.a,value:function(){return this.sort(),y()(this.map)}},{key:"reverseEntries",value:function(e,t){return this.sort(),new Hn(this.mapReverse,fn.Backwards,e,t)}},{key:"reverseKeys",value:function(){return this.sort(),this.mapReverse.keys()}},{key:"reverseValues",value:function(){return this.sort(),this.mapReverse.values()}},{key:"set",value:function(e,t){return this.map.set(e,t),this.isSorted=!1,this.size=this.map.size,this}},{key:"sort",value:function(){if(!this.isSorted){var t=Object(Cn["a"])(this.map.entries()).sort(e.sortNumbersAsc),n=t.slice().reverse();this.map=new T.a(t),this.mapReverse=new T.a(n),this.isSorted=!0,this.proxy()}}},{key:"proxy",value:function(){var t=this,n=Ln()(Se()(this.map));n.forEach(function(n){if(-1===e.skipOverride.indexOf(n)&&"function"===typeof t.map[n]){var i=t.map[n].bind(t.map),a=t.mapReverse[n].bind(t.mapReverse),o=function(){var e=i.apply(void 0,arguments);return a.apply(void 0,arguments),t.size=t.map.size,e};t[n]=o}})}}],[{key:"sortNumbersAsc",value:function(e,t){return e[0]-t[0]}}]),e}();Fn.skipOverride=["set","entries","values","keys","constructor"],function(e){e[e["Forwards"]=0]="Forwards",e[e["Backwards"]=1]="Backwards"}(fn||(fn={}));var Hn=function(){function e(t,n,i,a){if(Object(u["a"])(this,e),this.it=t.entries(),this.direction=n,this.start=i,this.end=a,void 0!==this.start){var o=this.it.next();while(!o.done){if(e.compare(o.value[0],this.start,this.direction))return void(this.lastNextResult=o);o=this.it.next()}}}return Object(c["a"])(e,null,[{key:"compare",value:function(e,t,n){return n===fn.Forwards?e>=t:e<=t}}]),Object(c["a"])(e,[{key:"next",value:function(){void 0===this.lastNextResult&&(this.lastNextResult=this.it.next());var t=this.lastNextResult;return void 0!==this.end&&e.compare(t.value[0],this.end,this.direction)?{value:t.value,done:!0}:(this.lastNextResult=this.it.next(),t)}},{key:jn.a,value:function(){return this}},{key:"track",value:function(){throw new Yt}},{key:"row",value:function(){throw new Yt}},{key:"finished",value:function(){return void 0!==this.lastNextResult&&this.lastNextResult.done}}]),e}();function Un(e,t,n,i,a){for(t.value=n-1;e.getNextTapNoteRowForAllTracks(t)&&t.value<i;)a(t)}var Qn,_n=function(){function e(){Object(u["a"])(this,e),this.tapNotes=[],this.loaded=!1}return Object(c["a"])(e,[{key:"setOccurranceTimeForAllTaps",value:function(e){throw new Yt}},{key:"countNotesInColumn",value:function(e,t,n){throw new Yt}},{key:"getNumTracks",value:function(){return this.tapNotes.length}},{key:"setNumTracks",value:function(e){this.tapNotes.length=e;for(var t=0;t<e;t++)this.tapNotes[t]=void 0===this.tapNotes[t]?new Fn:this.tapNotes[t]}},{key:"isComposite",value:function(){throw new Yt}},{key:"equals",value:function(e){return this.tapNotes===e.tapNotes}},{key:"getTapNote",value:function(e,t){var n=this.tapNotes[e],i=n.get(t);return void 0===i?Ye.newEmpty():i}},{key:"findTapNote",value:function(e,t){return this.tapNotes[e].get(t)}},{key:"removeTapNote",value:function(e,t){this.tapNotes[e].delete(t)}},{key:"getTapNoteRange",value:function(e,t,n,i,a){throw new Yt}},{key:"getTapNoteRangeInclusive",value:function(){throw new Yt}},{key:"getTapNoteRangeExclusive",value:function(){throw new Yt}},{key:"getNextTapNoteRowForTrack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.tapNotes[e],a=i.entries(t.value+1),o=a.next();if(o.done)return!1;if(xt(o.value[0]>t.value),n)while(o.value[1].type===Ae.AutoKeysound)if(o=a.next(),o.done)return!1;return t.value=o.value[0],!0}},{key:"getNextTapNoteRowForAllTracks",value:function(e){for(var t=Fe,n=!1,i=0;i<this.getNumTracks();i++){var a={value:e.value};this.getNextTapNoteRowForTrack(i,a)&&(n=!0,jt(a.value<Fe,"Row should never exceed MAX_NOTE_ROW"),t=Math.min(t,a.value))}return!!n&&(e.value=t,!0)}},{key:"getPrevTapNoteRowForTrack",value:function(e,t){var n=this.tapNotes[e],i=n.reverseEntries(t.value),a=i.next();return!a.done&&(xt(a.value[0]<t.value),t.value=a.value[0],!0)}},{key:"getPrevTapNoteRowForAllTracks",value:function(e){for(var t=0,n=!1,i=0;i<this.getNumTracks();i++){var a={value:e.value};this.getPrevTapNoteRowForTrack(i,a)&&(n=!0,xt(a.value<Fe),t=Math.max(t,a.value))}return!!n&&(e.value=t,!0)}},{key:"moveTapNoteTrack",value:function(e,t){throw new Yt}},{key:"setTapNote",value:function(e,t,n){if(xt(e>=0&&e<this.getNumTracks()),!(t<0))if(n.equals(Ye.EMPTY)){var i=this.tapNotes[e];i.delete(t)}else this.tapNotes[e].set(t,n)}},{key:"addHoldNote",value:function(e,t,n,i){throw new Yt}},{key:"clearRangeForTrack",value:function(e,t,n){return new Yt}},{key:"clearRange",value:function(e,t){return new Yt}},{key:"clearAll",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=y()(this.tapNotes);!(e=(i=a.next()).done);e=!0){var o=i.value;o.clear()}}catch(s){t=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}},{key:"copyRange",value:function(){return new Yt}},{key:"copyAll",value:function(){return new Yt}},{key:"isRowEmpty",value:function(e){return new Yt}},{key:"isHoldNoteAtRow",value:function(e,t,n){for(var i={value:t};this.getPrevTapNoteRowForTrack(e,i)&&i.value>=0;){var a=this.getTapNote(e,i.value);switch(a.type){case Ae.HoldHead:return!(a.duration+i.value<t)&&(n.value=i.value,!0);case Ae.Tap:case Ae.Mine:case Ae.Attack:case Ae.Lift:case Ae.Fake:return!1;case Ae.Empty:case Ae.AutoKeysound:continue;default:throw new Error("Unknwon TapNoteType: ".concat(a.type))}}return!1}},{key:"isThereATapAtRow",value:function(e){return-1!==this.getFirstTrackWithTap(e)}},{key:"isThereATapOrHoldHeadAtRow",value:function(e){return-1!==this.getFirstTrackWithTapOrHoldHead(e)}},{key:"getFirstTrackWithTap",value:function(e){for(var t=0;t<this.getNumTracks();t++){var n=this.getTapNote(t,e);if(n.type===Ae.Tap||n.type===Ae.Lift)return t}return-1}},{key:"getFirstTrackWithTapOrHoldHead",value:function(e){for(var t=0;t<this.getNumTracks();t++){var n=this.getTapNote(t,e);if(n.type===Ae.Tap||n.type===Ae.Lift||n.type===Ae.HoldHead)return t}return-1}}]),e}(),Yn=_n,Gn=n("768b"),Vn=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"loadFromSmNoteDataString",value:function(e,t){var n="",i=0,a=0,o=0;while(-1!==(i=t.indexOf("//",a)))n+=t.substr(o,i-a),o+=i-a,a=t.indexOf("\n",i),a=-1===a?t.length:a+1,o+=a-i;n+=t.substr(o,t.length-a);var s=e.getNumTracks();e.clearAll(),e.setNumTracks(s),this.loadFromSmNoteDataStringWithPlayer(e,n,ke,s)}},{key:"loadFromSmNoteDataStringWithPlayer",value:function(e,t,n,i){for(var a=function(e){return 0!==e.length},o=t.split(",").map(function(e){return e.trim()}).filter(a),s=0;s<o.length;s++)for(var r=o[s],u=r.split("\n").map(function(e){return e.trim()}).filter(a),c=0;c<u.length;c++)for(var l=u[c],h=c/u.length,g=(s+h)*Qe,d=xe.beatToNoteRow(g),f=0;f<i;f++){var p=l.charAt(f),v=this.parseTapNoteData(p,e,f,d);v.type!==Ae.Empty&&"3"!==p&&(v.pn=n,e.setTapNote(f,d,v))}for(var m=0;m<e.getNumTracks();m++){var A=e.tapNotes[m],w=!0,T=!1,k=void 0;try{for(var b,S=y()(A);!(w=(b=S.next()).done);w=!0){var B=Object(Gn["a"])(b.value,2),O=B[0],N=B[1];if(N.type===Ae.HoldHead&&N.duration===Fe){var E=xe.noteRowToBeat(O);console.log("While loading .sm/.ssc note data, there was an unmatched 2 at beat ".concat(E)),e.removeTapNote(m,O)}}}catch(R){T=!0,k=R}finally{try{w||null==S.return||S.return()}finally{if(T)throw k}}}}},{key:"parseTapNoteData",value:function(e,t,n,i){var a=Ye.newEmpty();switch(e){case"0":a=Ye.newEmpty();break;case"1":a=Ye.newOriginalTap();break;case"2":case"4":a="2"===e?Ye.newOriginalHoldHead():Ye.newOriginalRollHead(),a.duration=Fe;break;case"3":var o={value:0};if(t.isHoldNoteAtRow(n,i,o)){var s=t.findTapNote(n,o.value);if(void 0===s)throw new Error("holdNote should never be undefined: ".concat(n,", ").concat(o.value));s.duration=i-o.value}else console.warn("Unmatched 3 in track=".concat(n," for noteRow=").concat(i));break;case"M":a=Ye.newOriginalMine();break;case"K":a=Ye.newOriginalAutoKeysound();break;case"L":a=Ye.newOriginalLift();break;case"F":a=Ye.newOriginalFake();break;default:a=Ye.newEmpty();break}return a}}]),e}();(function(e){e[e["ACTUAL"]=0]="ACTUAL",e[e["SPECIFIED"]=1]="SPECIFIED",e[e["RANDOM"]=2]="RANDOM",e[e["NUM"]=3]="NUM",e[e["Invalid"]=4]="Invalid"})(Qn||(Qn={}));var zn=function(){function e(t,n){Object(u["a"])(this,e),this.timingData=new at,this.stepsType=ht.Invalid,this.stepsTypeName="",this.description="",this.chartStyle="",this.difficulty=Tt.Invalid,this.meter=-1,this.credit="",this.chartName="",this.displayBPMType=Qn.ACTUAL,this.specifiedBpmMin=0,this.specifiedBpmMax=0,this.noteData=new Yn,this.noteDataIsFilled=!1,this.noteDataCompressed=t,this.song=n}return Object(c["a"])(e,[{key:"getNoteData",value:function(){return this.noteData}},{key:"getCompressedNoteData",value:function(){return this.noteDataCompressed}},{key:"isNoteDataFilled",value:function(){return this.noteDataIsFilled}},{key:"getTimingData",value:function(){return this.timingData.empty()?this.song.songTiming:this.timingData}},{key:"decompress",value:function(){this.noteDataIsFilled||(this.noteDataIsFilled=!0,this.noteData.setNumTracks(Ot.getStepsTypeInfo(this.stepsType).numTracks),Vn.loadFromSmNoteDataString(this.noteData,this.noteDataCompressed))}},{key:"tidyUpData",value:function(){if(this.stepsType===ht.Invalid){var e=this.stepsTypeName;console.warn("Detected steps with unknown style '".concat(e,"' in sm data"))}else this.stepsTypeName;this.difficulty,Tt.Invalid,this.difficulty===Tt.Invalid&&(1===this.meter?this.difficulty=Tt.Beginner:this.meter<=3?this.difficulty=Tt.Easy:this.meter<=6?this.difficulty=Tt.Medium:this.difficulty=Tt.Hard),this.meter}}]),e}(),Kn=zn,Wn=function(){function e(){Object(u["a"])(this,e),this.fileName="",this.groupName="",this.mainTitle="",this.subTitle="",this.artist="",this.mainTitleTranslit="",this.subTitleTranslit="",this.artistTranslit="",this.version=0,this.genre="",this.credit="",this.origin="",this.musicLengthSec=0,this.musicSampleStartSec=0,this.musicSampleLengthSec=0,this.displayBpmType=0,this.specifiedBpmMin=0,this.specifiedBpmMax=0,this.songTiming=new at,this.firstSecond=0,this.lastSecond=0,this.specifiedLastSecond=0,this.unknownStyleSteps="placeholder unknown style steps",this.stepsByType=[];for(var t=0;t<ht.NUM;t++)this.stepsByType[t]=[];this.steps=[]}return Object(c["a"])(e,[{key:"addSteps",value:function(e){this.steps.push(e),this.stepsByType[e.stepsType].push(e)}},{key:"hasSteps",value:function(){return this.steps.length>0}},{key:"getSteps",value:function(e){return this.steps[e]}},{key:"getAllSteps",value:function(){return this.steps}},{key:"tidyUpData",value:function(){this.songTiming.tidyUpData(!1);var e=!0,t=!1,n=void 0;try{for(var i,a=y()(this.steps);!(e=(i=a.next()).done);e=!0){var o=i.value;o.timingData.tidyUpData(!0)}}catch(s){t=!0,n=s}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}}]),e}(),qn=Wn,Jn=9999999;function Zn(e){e.song.mainTitle=e.params[1]}function Xn(e){e.song.subTitle=e.params[1]}function $n(e){e.song.artist=e.params[1]}function ei(e){e.song.mainTitleTranslit=e.params[1]}function ti(e){e.song.subTitleTranslit=e.params[1]}function ni(e){e.song.artistTranslit=e.params[1]}function ii(e){e.song.genre=e.params[1]}function ai(e){e.song.credit=e.params[1]}function oi(e){console.debug("Skipping parsing banner")}function si(e){console.debug("Skipping parsing background file")}function ri(e){console.debug("Skipping parsing lyrics path")}function ui(e){console.debug("Skipping parsing CD title")}function ci(e){console.debug("Skipping parsing music file")}function li(e){e.song.songTiming.setOffset(Bt.stringToFloat(e.params[1]))}function hi(e){e.bpmChanges=[],e.bpmChanges=Oi.parseBpms(e.params[1])}function gi(e){e.stops=[],e.stops=Oi.parseStops(e.params[1])}function di(e){Oi.processDelays(e.song.songTiming,e.params[1])}function fi(e){Oi.processTimeSignatures(e.song.songTiming,e.params[1])}function pi(e){Oi.processTickcounts(e.song.songTiming,e.params[1])}function vi(e){}function mi(e){e.song.musicSampleStartSec=Bt.HHMMSSToSeconds(e.params[1])}function yi(e){e.song.musicSampleLengthSec=Bt.HHMMSSToSeconds(e.params[1])}function Ai(e){"*"===e.params[1]?e.song.displayBpmType=Qn.RANDOM:(e.song.displayBpmType=Qn.SPECIFIED,e.song.specifiedBpmMin=Bt.stringToFloat(e.params[1]),e.params.length<3||""===e.params[2]?e.song.specifiedBpmMax=e.song.specifiedBpmMin:e.song.specifiedBpmMax=Bt.stringToFloat(e.params[2]))}function wi(e){}function Ti(e){}function ki(e){}function bi(e){}function Si(e){}var Bi=new T.a([["TITLE",Zn],["SUBTITLE",Xn],["ARTIST",$n],["TITLETRANSLIT",ei],["SUBTITLETRANSLIT",ti],["ARTISTTRANSLIT",ni],["GENRE",ii],["CREDIT",ai],["BANNER",oi],["BACKGROUND",si],["LYRICSPATH",ri],["CDTITLE",ui],["MUSIC",ci],["OFFSET",li],["BPMS",hi],["STOPS",gi],["FREEZES",gi],["DELAYS",di],["TIMESIGNATURES",fi],["TICKCOUNTS",pi],["INSTRUMENTTRACK",vi],["SAMPLESTART",mi],["SAMPLELENGTH",yi],["DISPLAYBPM",Ai],["SELECTABLE",wi],["ANIMATIONS",Ti],["FGCHANGES",ki],["KEYSOUNDS",bi],["ATTACKS",Si]]),Oi=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"rowToBeat",value:function(e,t){var n=e.replace(/^[rR]+|[rR]+$/g,"");return n!==e?Bt.stringToFloat(e)/t:Bt.stringToFloat(e)}},{key:"loadFromTokens",value:function(e,t,n,i,a,o){var s=new Kn(a,o);switch(e){case"ez2-single-hard":e="ez2-single";break;case"para":e="para-single";break}return s.stepsType=Bt.stringToStepsType(e),s.stepsTypeName=e,s.description=t,s.credit=t,s.chartName=t,s.difficulty=Bt.oldStyleStringToDifficulty(n),s.difficulty===Tt.Hard&&("smaniac"!==t&&"challenge"!==t||(s.difficulty=Tt.Challenge)),s.difficulty===Tt.Invalid&&(s.difficulty=Tt.Edit),0===i.length&&(i="1"),s.meter=Bt.stringToInt(i),s.tidyUpData(),s}},{key:"parseBpms",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[],i=e.split(","),a=!0,o=!1,s=void 0;try{for(var r,u=y()(i);!(a=(r=u.next()).done);a=!0){var c=r.value,l=c.split("=");if(2===l.length){var h=this.rowToBeat(l[0],t),g=Bt.stringToFloat(l[1]);0!==g?n.push([h,g]):console.error(".sm file has a 0 BPM; ignored")}else console.error('.sm data has invalid #BPMs value "'.concat(c,'" (must have exactly one "="), ignored'))}}catch(d){o=!0,s=d}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return n}},{key:"parseStops",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=[],i=e.split(","),a=!0,o=!1,s=void 0;try{for(var r,u=y()(i);!(a=(r=u.next()).done);a=!0){var c=r.value,l=c.split("=");if(2===l.length){var h=this.rowToBeat(l[0],t),g=Bt.stringToFloat(l[1]);0!==g?n.push([h,g]):console.error(".sm file has a zero-length stop; ignored")}else console.error('.sm data has invalid #STOPS value "'.concat(c,'" (must have exactly one "="), ignored'))}}catch(d){o=!0,s=d}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return n}},{key:"processDelays",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=t.split(","),a=!0,o=!1,s=void 0;try{for(var r,u=y()(i);!(a=(r=u.next()).done);a=!0){var c=r.value,l=c.split("=");if(2===l.length){var h=this.rowToBeat(l[0],n),g=Bt.stringToFloat(l[1]);g<=0?console.error(".sm file has an invalid dealy at beat ".concat(h,", length ").concat(g,"}; ignored")):e.addSegment(new Xe(Ce.beatToNoteRow(h),g))}else console.error('.sm data has invalid #DELAYS value "'.concat(c,'" (must have exactly one "="), ignored'))}}catch(d){o=!0,s=d}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}},{key:"processTimeSignatures",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=t.split(","),a=!0,o=!1,s=void 0;try{for(var r,u=y()(i);!(a=(r=u.next()).done);a=!0){var c=r.value,l=c.split("=");if(l.length<3)console.error(".sm data has invalid time signature change with ".concat(l.length," values, ignored"));else{var h=this.rowToBeat(l[0],n),g=Bt.stringToInt(l[1]),d=Bt.stringToInt(l[2]);h<0?console.error(".sm data has invalid time signature change with beat ".concat(h,", ignored")):g<1?console.error(".sm data has invalid time signature change with beat ".concat(h,", numerator ").concat(g,", ignored")):d<1?console.error(".sm data has invalid time signature change with beat ".concat(h,", denominator ").concat(d,", ignored")):e.addSegment(new qe(Ce.beatToNoteRow(h),g,d))}}}catch(f){o=!0,s=f}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}},{key:"processTickcounts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=t.split(","),a=!0,o=!1,s=void 0;try{for(var r,u=y()(i);!(a=(r=u.next()).done);a=!0){var c=r.value,l=c.split("=");if(2===l.length){var h=this.rowToBeat(l[0],n),g=mt()(l[1],10);if(!isNaN(g)){Bt.clamp(g,0,je);e.addSegment(new Ke(Ce.beatToNoteRow(h),g))}}else console.error('.sm data has invalid #TICKCOUNTS value "'.concat(c,'" (must have exactly one "="), ignored'))}}catch(d){o=!0,s=d}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}}},{key:"processBpmsAndStops",value:function(e,t,n){var i=0,a=0,o=-1,s=-1,r=0,u=0,c=function(e,t){return e[0]-t[0]};t.sort(c),n.sort(c);var l=0,h=n.length,g=!0,d=!1,f=void 0;try{for(var p,v=y()(n);!(g=(p=v.next()).done);g=!0){var m=p.value;if(m[0]>=0)break;e.adjustOffset(-m[1]),l++}}catch(R){d=!0,f=R}finally{try{g||null==v.return||v.return()}finally{if(d)throw f}}var A=0,w=t.length,T=!0,k=!1,b=void 0;try{for(var S,B=y()(t);!(T=(S=B.next()).done);T=!0){var O=S.value;if(O[0]>=0)break;i=O[1],i<0&&O[1]<0&&console.debug(".sm data has a negative BPM prior to beat 0. These cause problems; ignoring."),A++}}catch(R){k=!0,b=R}finally{try{T||null==B.return||B.return()}finally{if(k)throw b}}0===i&&(A===w?(i=60,console.debug(".sm data has no valid BPMs. Defaulting to 60.")):(i=t[A][1],A++,console.debug(".sm data does not establish a BPM before beat 0. Using the value from the next BPM change"))),i>0&&i<=Jn&&e.addSegment(new Je(Ce.beatToNoteRow(0),i));while(A<w||l<h){var N=l===h||A<w&&t[A][0]<=n[l][0],E=N?t[A]:n[l];i<=Jn&&(u+=60*(E[0]-a)/i,o>=0&&i>0&&u>0&&(s=E[0]-u*i/60,e.addSegment(new ze(Ce.beatToNoteRow(o),s-o,!1)),i!==r&&e.addSegment(new Je(Ce.beatToNoteRow(o),i)),o=-1)),a=E[0],N?(o<0&&(E[1]<0||E[1]>Jn)?(o=E[0],r=i,u=0):o<0&&e.addSegment(new Je(Ce.beatToNoteRow(E[0]),E[1])),i=E[1],A++):(o<0&&E[1]<0?(o=E[0],r=i,u=E[1]):o<0?e.addSegment(new Ze(Ce.beatToNoteRow(E[0]),E[1])):(u+=E[1],E[1]>0&&u>0&&(s=E[0],e.addSegment(new ze(Ce.beatToNoteRow(o),s-o,!1)),e.addSegment(new Ze(Ce.beatToNoteRow(E[0]),u)),i<0||i>Jn?(o=E[0],u=0):(i!==r&&e.addSegment(new ze(Ce.beatToNoteRow(o),i,!1)),o=-1))),l++)}o>=0&&(s=i<0||i>Jn?99999999:a-u*i/60,e.addSegment(new ze(Ce.beatToNoteRow(o),s-o,!1)),i!==r&&e.addSegment(new Je(Ce.beatToNoteRow(o),i)))}},{key:"loadFromSimfile",value:function(e){for(var t=new qn,n={song:t,params:[],bpmChanges:[],stops:[]},i=0;i<e.getNumValues();i++){var a=e.getNumParams(i),o=e.getValue(i),s=o[0].toUpperCase();n.params=o;var r=Bi.get(s);if(void 0!==r)r(n);else if("NOTES"===s||"NOTES2"===s){if(a<7)throw new Error(".sm file has ".concat(a," fields in a #NOTES tag, but should have at least 7."));var u=this.loadFromTokens(o[1],o[2],o[3],o[4],o[6],t);u.decompress(),t.addSteps(u)}}if(!t.hasSteps())throw new Error("did not find step data for song");return this.processBpmsAndStops(t.songTiming,n.bpmChanges,n.stops),this.tidyUpData(),t.tidyUpData(),t}},{key:"tidyUpData",value:function(){}}]),e}(),Ni=Oi,Ei=function(){function e(t){Object(u["a"])(this,e),this.values=[],this.readBuffer(t,!0)}return Object(c["a"])(e,[{key:"getParam",value:function(e,t){return this.values[e][t]}},{key:"getValue",value:function(e){return this.values[e]}},{key:"getNumValues",value:function(){return this.values.length}},{key:"getNumParams",value:function(e){return this.values[e].length}},{key:"readBuffer",value:function(e,t){var n=!1,i=0,a=[];while(i<e.length)if(i+1<e.length&&"/"===e[i]&&"//"===e[i+1])do{i++}while(i<e.length&&"\n"!==e[i]);else n||"#"!==e[i]||(this.addValue(),n=!0),n?(":"!==e[i]&&";"!==e[i]||this.addParam(a),"#"!==e[i]&&":"!==e[i]?";"!==e[i]?(t&&i<e.length&&"\\"===e[i]&&++i,i<e.length&&a.push(e[i++])):(n=!1,++i):(++i,a=[])):t&&"\\"===e[i]?i+=2:++i;n&&this.addParam(a)}},{key:"addParam",value:function(e){this.values[this.values.length-1].push(e.join("").trim())}},{key:"addValue",value:function(){this.values.push([])}}]),e}(),Ri=Ei,Ii="https://s3-us-west-2.amazonaws.com/struz.simfile-viewer/",Di=Object({NODE_ENV:"production",BASE_URL:"/simfile-viewer/"}).VUE_APP_PACK_URL_PREFIX||Ii,Pi=Object({NODE_ENV:"production",BASE_URL:"/simfile-viewer/"}).VUE_APP_PACK_INDEX_FILENAME||"packs.json",Mi={name:"<Select a chart>",oggFilename:"",simFilename:""},Li=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.selectedPack="Loading",e.packs=[{name:"Loading",charts:[]}],e.selectedChart="Loading",e.charts=[{name:"Loading",oggFilename:"Loading",simFilename:"Loading"}],e.selectedSteps=-1,e.steps=[],e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"provide",value:function(){return{}}},{key:"mounted",value:function(){var e=this;Bn.a.get("".concat("/simfile-viewer/").concat(Pi)).then(function(t){e.packs=t.data,e.packs.forEach(function(e){e.charts.unshift(Mi)}),e.selectedPack=e.packs[0].name,e.charts=e.packs[0].charts,e.selectedChart=Mi.name}).catch(function(e){console.error("failed to get pack info from url: ".concat(e))})}},{key:"findPack",value:function(e){var t=this.packs.find(function(t){return t.name===e});if(void 0===t)throw new Error("Could not find pack with name ".concat(e));return t}},{key:"findChart",value:function(e){var t=this.charts.find(function(t){return t.name===e});if(void 0===t)throw new Error("Could not find chart with name ".concat(e));return t}},{key:"changePackEvent",value:function(e){this.charts=this.findPack(this.selectedPack).charts,this.selectedChart=this.charts[0].name}},{key:"changeChartEvent",value:function(e){var t=this.selectedPack,n=this.findChart(this.selectedChart);if(n!==Mi){var i=null===n.oggFilename?null:"".concat(encodeURIComponent(t),"/").concat(encodeURIComponent(n.name),"/")+"".concat(encodeURIComponent(n.oggFilename)),a="".concat(encodeURIComponent(t),"/").concat(encodeURIComponent(n.name))+"/".concat(encodeURIComponent(n.simFilename)),o={ogg:i,simFile:a};this.changeChart(o),this.$emit("changeChart",o)}}},{key:"changeStepsEvent",value:function(e){var t=this.selectedSteps;if(null!==t&&void 0!==zt.curSong){var n=this.steps[t];zt.selectedSteps=zt.curSong.getAllSteps().indexOf(n),this.$emit("changeSteps",n)}}},{key:"getStepsItemText",value:function(e){return"".concat(e.meter," - ").concat(e.description)}},{key:"getStepsItemValue",value:function(e){return this.steps.indexOf(e)}},{key:"changeChart",value:function(e){var t,n=this;if(null===e.ogg)throw new Error("no ogg not supported yet!");var i,a="".concat(Di,"packs/").concat(e.simFile),o=Pn.loadTextFile(a).then(function(e){var i=new Ri(e);t=Ni.loadFromSimfile(i),console.log("loaded sm data"),n.steps=t.getAllSteps(),n.selectedSteps=0}).catch(function(e){console.error("failed to load .sm file at '".concat(a,"': ").concat(e))}),s="".concat(Di,"packs/").concat(e.ogg),r=Pn.loadOggFileAsHowl(s,!1).then(function(e){i=e,console.log("loaded music")}).catch(function(e){console.error("failed to load .ogg file at '".concat(s,"': ").concat(e))});bn.a.all([o,r]).then(function(){if(null===t)throw new Error("song did not load properly");if(null===i)throw new Error("howl did not load properly");zt.loadSong(t,i,n.$data.seek)}).catch(function(e){console.error("failed to load song into game: ".concat(e))}),console.log("chart changed: "+e.ogg)}}]),t}(i["default"]);Li=d["a"]([f["a"]],Li);var Ci=Li,xi=Ci,ji=n("6544"),Fi=n.n(ji),Hi=n("b56d"),Ui=Object(mn["a"])(xi,wn,Tn,!1,null,"8bc634de",null),Qi=Ui.exports;Fi()(Ui,{VSelect:Hi["a"]});var _i=n("d572"),Yi=n.n(_i),Gi=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"playTicks",value:function(){var t=!1,n=!0,i=zt.position,a=i.musicSeconds,o=zt.curSong;if(void 0!==o){var s=o.songTiming,r=o.getSteps(zt.selectedSteps).getNoteData(),u=s.getBeatFromElapsedTimeNoOffset(a),c=Math.max(0,xe.beatToNoteRowNotRounded(u));if(c<e.rowLastCrossed&&(this.rowLastCrossed=c),n){var l=-1,h={value:0};if(Un(r,h,this.rowLastCrossed+1,c+1,function(e){r.isThereATapOrHoldHeadAtRow(e.value)&&(l=e.value)}),-1!==l&&s.isJudgableAtRow(l)){var g=xe.noteRowToBeat(l),d=s.getElapsedTimeFromBeatNoOffset(g);i.musicSeconds;this.clapSound.play()}}if(t&&-1!==this.rowLastCrossed){var f={value:0},p={value:0},v={value:0};s.noteRowToMeasureAndBeat(e.rowLastCrossed,f,p,v);var m={value:0},y={value:0},A={value:0};s.noteRowToMeasureAndBeat(c,m,y,A);var w=-1,T=!1;if(f.value===m.value&&p.value===y.value||(w=c-A.value,T=m.value-f.value>0),-1!==w){var k=xe.noteRowToBeat(w),b=s.getElapsedTimeFromBeatNoOffset(k);i.musicSeconds;T?console.log("metronome measure"):console.log("metronome beat")}}e.rowLastCrossed=c}}}]),e}();Gi.rowLastCrossed=-1,Gi.clapSound=new En["Howl"]({src:[Yi.a],volume:.6});var Vi=Gi,zi=new gt,Ki=function(){function e(){Object(u["a"])(this,e)}return Object(c["a"])(e,null,[{key:"gameLoop",value:function(t){e.drawnFrames++;var n=zi.getDeltaTime();e.totalTime+=n,e.totalTime>1&&(e.totalTime=0,e.drawnFrames=0),Ct.update(n),zt.update(n),Vi.playTicks(),gn.isReadyToDraw()&&!this.drawnArrow&&(gn.showReceptors(),this.drawnArrow=!0),ce.update(n)}}]),e}();Ki.drawnArrow=!1,Ki.drawnFrames=0,Ki.totalTime=0;var Wi=Ki;(function(){function e(){window.requestAnimationFrame(e);Wi.gameLoop(0)}e()})(),window.debugTools=Ft,window.GAMESTATE=zt,window.SOUNDMAN=Ct;var qi=function(e){function t(){var e;return Object(u["a"])(this,t),e=Object(l["a"])(this,Object(h["a"])(t).apply(this,arguments)),e.seek=0,e}return Object(g["a"])(t,e),Object(c["a"])(t,[{key:"seekTrack",value:function(){Ct.musicSeek(this.$data.seek)}},{key:"playPauseTrack",value:function(){zt.isPaused()?(zt.play(),Ct.resumeMusic()):(zt.pause(),Ct.pauseMusic())}}]),t}(i["default"]);qi=d["a"]([Object(f["a"])({name:"App",components:{Screen:An,ChartPicker:Qi}})],qi);var Ji=qi,Zi=Ji,Xi=n("7496"),$i=n("8336"),ea=n("a523"),ta=n("549c"),na=n("0e8f"),ia=n("a722"),aa=n("9910"),oa=n("2677"),sa=n("71d9"),ra=n("2a7f"),ua=Object(mn["a"])(Zi,s,r,!1,null,null,null),ca=ua.exports;Fi()(ua,{VApp:Xi["a"],VBtn:$i["a"],VContainer:ea["a"],VContent:ta["a"],VFlex:na["a"],VLayout:ia["a"],VSpacer:aa["a"],VTextField:oa["a"],VToolbar:sa["a"],VToolbarTitle:ra["a"]}),i["default"].config.productionTip=!1,new i["default"]({render:function(e){return e(ca)}}).$mount("#app")},d572:function(e,t,n){e.exports=n.p+"media/assist_clap.131e5c1e.ogg"},df0d:function(e,t,n){}});
//# sourceMappingURL=app.526bc4b7.js.map